<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://dargonlee.github.io</id>
    <title>ä¸ƒé‡Œç”°é—´çš„å®ˆæœ›è€…</title>
    <updated>2020-02-17T06:10:05.472Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://dargonlee.github.io"/>
    <link rel="self" href="https://dargonlee.github.io/atom.xml"/>
    <subtitle>æˆ‘ä¸åœ¨ä¹æ˜¯æ‚²ä¼¤çš„ç¦»åˆ«è¿˜æ˜¯ä¸ç—›å¿«çš„ç¦»åˆ«ï¼Œåªè¦æ˜¯ç¦»å¼€ä¸€ä¸ªåœ°æ–¹ï¼Œæˆ‘æ€»å¸Œæœ›ç¦»å¼€çš„æ—¶å€™è‡ªå·±å¿ƒä¸­æœ‰æ•°ã€‚</subtitle>
    <logo>https://dargonlee.github.io/images/avatar.png</logo>
    <icon>https://dargonlee.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, ä¸ƒé‡Œç”°é—´çš„å®ˆæœ›è€…</rights>
    <entry>
        <title type="html"><![CDATA[è§£å†³å®šæ—¶å™¨çš„å¾ªç¯å¼•ç”¨]]></title>
        <id>https://dargonlee.github.io/post/jie-jue-ding-shi-qi-de-xun-huan-yin-yong/</id>
        <link href="https://dargonlee.github.io/post/jie-jue-ding-shi-qi-de-xun-huan-yin-yong/">
        </link>
        <updated>2019-11-15T02:40:51.000Z</updated>
        <summary type="html"><![CDATA[<p>ä¸€èˆ¬ä½¿ç”¨å®šæ—¶å™¨çš„æ–¹æ³•ï¼Œåœ¨æ§åˆ¶å™¨è¿”å›ä¸Šçº§çš„æ—¶å€™ã€‚å®šæ—¶å™¨éƒ½ä¸ä¼šåœæ­¢ï¼Œä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼Œæ§åˆ¶å™¨çš„<code>delloc</code>æ–¹æ³•ä¸ä¼šè°ƒç”¨ã€‚<br>
ä»¥ä¸‹ä¸¤ç§æ–¹å¼å°±æ˜¯ä¸ºäº†è§£å†³ï¼Œå®šæ—¶å™¨åœ¨æ§åˆ¶å™¨è¿”å›ä¸Šçº§çš„æ—¶å€™è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä¸€èˆ¬ä½¿ç”¨å®šæ—¶å™¨çš„æ–¹æ³•ï¼Œåœ¨æ§åˆ¶å™¨è¿”å›ä¸Šçº§çš„æ—¶å€™ã€‚å®šæ—¶å™¨éƒ½ä¸ä¼šåœæ­¢ï¼Œä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼Œæ§åˆ¶å™¨çš„<code>delloc</code>æ–¹æ³•ä¸ä¼šè°ƒç”¨ã€‚<br>
ä»¥ä¸‹ä¸¤ç§æ–¹å¼å°±æ˜¯ä¸ºäº†è§£å†³ï¼Œå®šæ—¶å™¨åœ¨æ§åˆ¶å™¨è¿”å›ä¸Šçº§çš„æ—¶å€™è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p>
<!-- more --> 
<h5 id="åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨å®šæ—¶å™¨å¸¸è§„çš„æ–¹æ³•">åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨å®šæ—¶å™¨å¸¸è§„çš„æ–¹æ³•</h5>
<pre><code class="language-objc">@interface ViewController ()

@property (nonatomic,strong) NSTimer *timer;

@property (nonatomic,strong) CADisplayLink *link;

@end
</code></pre>
<pre><code class="language-objc">
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    // Timerçš„ä½¿ç”¨
    self.timer = [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(timerTest) userInfo:nil repeats:YES];
    
    // CADisplayLinkçš„ä½¿ç”¨
    self.link = [CADisplayLink displayLinkWithTarget:self selector:@selector(timerTest)];
    [self.link addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSRunLoopCommonModes];
}

- (void)timerTest
{
    NSLog(@&quot;%s&quot;, __func__);
}
</code></pre>
<p>ä»¥ä¸Šè¿™ç§å†™æ³•å°±æ˜¯å¸¸è§„çš„å†™æ³•ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªæ§åˆ¶å™¨pushåˆ°å½“å‰è¿™ä¸ªæ§åˆ¶å™¨çš„æ—¶å€™å¼€å¯å®šæ—¶å™¨ã€‚<br>
ä½†æ˜¯è¿™ç§å†™æ³•æœ‰é—®é¢˜ï¼Œä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚<br>
<code>ViewController</code> å¼•ç”¨ <code>timerå®šæ—¶å™¨</code> <code>timer</code>çš„<code>target</code>åˆå¼•ç”¨<code>ViewController</code> è€Œä¸”ä¸‰è€…éƒ½æ˜¯ä½¿ç”¨ <code>storng</code>å¼•ç”¨ è¿™æ ·åœ¨ <code>ViewController</code>è¿”å›ä¸Šçº§çš„æ—¶å€™ï¼Œä¸ä¼šè°ƒç”¨<code>delloc</code>æ–¹æ³• ä»è€Œå¯¼è‡´å¾ªç¯å¼•ç”¨ã€‚</p>
<h4 id="è§£å†³æ–¹æ³•çš„æ€è·¯">è§£å†³æ–¹æ³•çš„æ€è·¯ï¼š</h4>
<p>æˆ‘ä»¬çŸ¥é“å¼•èµ·å¾ªç¯å¼•ç”¨çš„é—®é¢˜æ˜¯ <code>ViewController</code> <code>timer</code> <code>timerçš„target</code> ä¸‰è€…éƒ½æ˜¯å¼ºå¼•ç”¨å¯¼è‡´çš„ æˆ‘ä»¬åªè¦åœ¨è¿™ä¸ªä¸‰ä¸ªä¸­é—´ä¸€ä¸ªåœ°æ–¹ç»™è®¾ç½®<code>weak</code>å¼•ç”¨ å°±ä¸ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨äº†ã€‚<br>
æ€è·¯å°±æ˜¯ -&gt; è®¾ç½®<code>timer</code>çš„<code>target</code>çš„æ—¶å€™ä¸è¦ç›´æ¥è®¾ç½® <code>ViewController</code> è€Œæ˜¯è®¾ç½®ä¸€ä¸ª è‡ªå®šä¹‰çš„å¯¹è±¡ æ¯”å¦‚ <code>TimerTarget</code> ç„¶åç”±è¿™ä¸ªå¯¹è±¡å¯¹æ§åˆ¶å™¨<code>å¼±å¼•ç”¨</code>ï¼Œæœ¬æ¥ç”±æ§åˆ¶å™¨çš„ç›´æ¥è°ƒç”¨çš„å®šæ—¶æ–¹æ³•ï¼Œç°åœ¨ç”± <code>TimerTarget</code> å¯¹è±¡å¯¹æ§åˆ¶å™¨è¿›è¡Œè½¬å‘ã€‚ä»è€Œè¾¾åˆ°è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚<br>
ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-objc">
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    
    self.link = [CADisplayLink displayLinkWithTarget:[TimerTarget proxyWithTarget:self] selector:@selector(timerTest)];
    
    self.timer = [NSTimer scheduledTimerWithTimeInterval:1.0 target:[TimerTarget proxyWithTarget:self] selector:@selector(timerTest) userInfo:nil repeats:YES];
}

- (void)timerTest
{
    NSLog(@&quot;%s&quot;, __func__);
}
</code></pre>
<p><code>TimerTargetå¯¹è±¡çš„æ–¹æ³•å®ç°</code></p>
<pre><code class="language-objc">@interface TimerTarget : NSObject

@property (nonatomic, weak) id target;
// æ¥æ”¶ä¸€ä¸ªå¯ä»¥ç›¸åº” å®šæ—¶å™¨çš„å¯¹è±¡
+ (instancetype)proxyWithTarget:(id)target;

@end


+ (instancetype)proxyWithTarget:(id)target
{
    TimerTarget *targets = [[TimerTarget alloc]init];
    targets.target = target;//ç„¶åå¯¹å¤–éƒ¨çš„å¯¹è±¡è¿›è¡Œå¼±å¼•ç”¨
    return targets;
}
// åœ¨å®šæ—¶å™¨ç»™å½“å‰å¯¹è±¡å‘é€æ–¹æ³•çš„æ—¶å€™ ä¼šèµ°å½“å‰å¯¹è±¡çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶ 
// ç„¶åå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å¯¹å¼±åº”ç”¨çš„å¯¹è±¡å»å“åº”è¦è°ƒç”¨çš„æ–¹æ³•
- (id)forwardingTargetForSelector:(SEL)aSelector
{
    return self.target;
}
</code></pre>
<blockquote>
<p>ä¸Šé¢çš„æ–¹æ³•å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯è¿™æ ·æ•ˆç‡ä¸å¤Ÿé«˜ã€‚å› ä¸ºåœ¨ <code>TimerTarget</code> åœ¨åšæ¶ˆæ¯è½¬å‘ä¹‹å‰ï¼Œä¼šå¯¹çˆ¶ç±»æ–¹æ³•æŸ¥æ‰¾å’Œæ–¹æ³•ç¼“å­˜ä¸­å»æ‰¾æ–¹æ³•ã€‚è¿™æ ·æ•ˆç‡ä¸é«˜ã€‚</p>
</blockquote>
<p>ä¸‹é¢ä»‹ç»ä¸€ä¸ªè‹¹æœæä¾›ä¸“é—¨è¿›è¡Œæ¶ˆæ¯è½¬å‘çš„ç±»å«<code>NSProxy</code> ä¸Šé¢çš„è§£å†³æ–¹æ³•æˆ‘ä»¬æ˜¯ç»§æ‰¿<code>NSObject</code> ä¸‹é¢æˆ‘ä»¬å¯ä»¥ç›´æ¥ç»§æ‰¿è¿™ä¸ªç±»<br>
ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-objc">@interface TimerProxy : NSProxy

@property (nonatomic, weak) id target;

+ (instancetype)proxyWithTarget:(id)target;

@end



+ (instancetype)proxyWithTarget:(id)target
{
    // NSProxy ä¸éœ€è¦initæ–¹æ³•
    TimerProxy *targets = [TimerProxy alloc];
    targets.target = target;
    return targets;
}

- (NSMethodSignature *)methodSignatureForSelector:(SEL)sel
{
    return [self.target methodSignatureForSelector:sel];
}

- (void)forwardInvocation:(NSInvocation *)invocation
{
    [invocation invokeWithTarget:self.target];
}
</code></pre>
<p>è¿™æ ·çš„è¯ åœ¨å®šæ—¶çš„æ–¹æ³•æ¥çš„æ—¶å€™å¯ä»¥ç›´æ¥è¿›è¡Œè½¬å‘ï¼Œè€Œä¸ä¼šå†å»çˆ¶ç±»æ‰¾äº†ã€‚</p>
<h4 id="è¡¥å……">è¡¥å……</h4>
<pre><code>__weak typeof(self) weakSelf = self;
    self.timer = [NSTimer scheduledTimerWithTimeInterval:1.0 repeats:YES block:^(NSTimer * _Nonnull timer) {
        [weakSelf timerTest];
    }];
</code></pre>
<p>è¿™ç§blockçš„æ–¹æ³•ä¹Ÿå¯ä»¥è§£å†³å¾ªç¯å¼•ç”¨</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Gitçš„å¸¸ç”¨å‘½ä»¤]]></title>
        <id>https://dargonlee.github.io/post/git-de-chang-yong-ming-ling/</id>
        <link href="https://dargonlee.github.io/post/git-de-chang-yong-ming-ling/">
        </link>
        <updated>2019-08-12T05:38:57.000Z</updated>
        <summary type="html"><![CDATA[<pre><code class="language-bash"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®
$ git config --list

# æŸ¥çœ‹ä»“åº“é…ç½®
git config --local -l 

# æŸ¥çœ‹ç”¨æˆ·é…ç½®
git config --global -l 

# æŸ¥çœ‹ç³»ç»Ÿé…ç½®
git config --system -l </code></pre>
]]></summary>
        <content type="html"><![CDATA[<pre><code class="language-bash"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®
$ git config --list

# æŸ¥çœ‹ä»“åº“é…ç½®
git config --local -l 

# æŸ¥çœ‹ç”¨æˆ·é…ç½®
git config --global -l 

# æŸ¥çœ‹ç³»ç»Ÿé…ç½®
git config --system -l 

&lt;!-- more --&gt;

# ç¼–è¾‘Gité…ç½®æ–‡ä»¶

git config --local -e ç¼–è¾‘ä»“åº“çº§åˆ«é…ç½®æ–‡ä»¶
git config --global -e ç¼–è¾‘ç”¨æˆ·çº§åˆ«é…ç½®æ–‡ä»¶
git config --system -e ç¼–è¾‘ç³»ç»Ÿçº§åˆ«é…ç½®æ–‡ä»¶

# è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯
$ git config [--global] user.name &quot;[name]&quot;
$ git config [--global] user.email &quot;[email address]&quot;
</code></pre>
<p>æ¨é€æ“ä½œ åˆ‡è®°ç›´æ¥ä½¿ç”¨ <code>git push</code></p>
<pre><code class="language-bash">git push origin HEAD:refs/for/develop  
</code></pre>
<p>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯ï¼ˆæœ¬åœ°åˆ†æ”¯ï¼‰</p>
<pre><code class="language-bash">git checkout -b dev
</code></pre>
<p>åˆ é™¤æœ¬åœ°devåˆ†æ”¯(æœ¬åœ°)</p>
<pre><code class="language-bash">git branch -d dev
</code></pre>
<p>åˆ†æ”¯åˆå¹¶</p>
<pre><code class="language-scheme">git checkout master
git merge dev
</code></pre>
<p>æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹</p>
<pre><code class="language-bash">git push -u origin develop
</code></pre>
<p>æŸ¥çœ‹åˆ†æ”¯ï¼š</p>
<pre><code class="language-bash">git branch
</code></pre>
<p>åˆ›å»ºåˆ†æ”¯ï¼š</p>
<pre><code class="language-bash">git branch 
</code></pre>
<p>åˆ‡æ¢åˆ†æ”¯ï¼š</p>
<pre><code class="language-bash">git checkout `æˆ–è€…`git switch `
</code></pre>
<p>åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š</p>
<pre><code class="language-bash"> git push origin --delete 
</code></pre>
<p>æ‰“tag</p>
<pre><code class="language-bash">git tag 
</code></pre>
<p>åˆ é™¤æœ¬åœ°tag</p>
<pre><code class="language-bash">git tag -d 
</code></pre>
<p>åˆ é™¤è¿œç¨‹tag</p>
<pre><code class="language-bash">git push origin --delete tag 
</code></pre>
<p>æ¨é€åˆ°å“ªä¸ªåˆ†æ”¯</p>
<pre><code class="language-bash">git push origin HEAD:refs/for/branch
</code></pre>
<p>å›é€€ç›¸å…³æ“ä½œ</p>
<pre><code class="language-bash">git reset --hard HEAD^ // å›é€€pullæ“ä½œ

git reset --mixed HEAD^ // å›é€€commit åªé€€ä¸€æ­¥

git reset --hard 139dcfaa558e3276b30b6b2e5cbbb9c00bbdca96 // å›é€€åˆ°æŸä¸€ä¸ªç‰ˆæœ¬
git reset --soft HEAD^//è¯¥å‘½ä»¤ä¼šå°†å·¥ä½œå»çš„æ–‡ä»¶å›é€€åˆ°ç›®æ ‡ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸ä¼šæ”¹å˜æš‚å­˜åŒºçš„çŠ¶æ€ã€‚

--hard ä¼šæ¸…ç©ºå·¥ä½œç›®å½•å’Œæš‚å­˜åŒºçš„æ”¹åŠ¨,è€Œ --softåˆ™ä¼šä¿ç•™å·¥ä½œç›®å½•çš„å†…å®¹ï¼Œå¹¶æŠŠå› ä¸ºä¿ç•™å·¥ä½œç›®å½•å†…å®¹æ‰€å¸¦æ¥çš„æ–°çš„æ–‡ä»¶å·®å¼‚æ”¾è¿›æš‚å­˜åŒº
</code></pre>
<p>æ‰§è¡Œå­˜å‚¨æ—¶ï¼Œæ·»åŠ å¤‡æ³¨ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼Œåªæœ‰git stash ä¹Ÿè¦å¯ä»¥çš„ï¼Œä½†æŸ¥æ‰¾æ—¶ä¸æ–¹ä¾¿è¯†åˆ«ã€‚</p>
<pre><code class="language-bash">git stash save &quot;save message&quot; :
</code></pre>
<p>æŸ¥çœ‹stashäº†å“ªäº›å­˜å‚¨</p>
<pre><code class="language-bash">git stash list
</code></pre>
<p>æ˜¾ç¤ºåšäº†å“ªäº›æ”¹åŠ¨ï¼Œé»˜è®¤showç¬¬ä¸€ä¸ªå­˜å‚¨,å¦‚æœè¦æ˜¾ç¤ºå…¶ä»–å­˜è´®ï¼Œåé¢åŠ stash@{$num}ï¼Œæ¯”å¦‚ç¬¬äºŒä¸ª git stash show stash@{1}</p>
<pre><code class="language-scheme">git stash show
</code></pre>
<p>æ˜¾ç¤ºç¬¬ä¸€ä¸ªå­˜å‚¨çš„æ”¹åŠ¨ï¼Œå¦‚æœæƒ³æ˜¾ç¤ºå…¶ä»–å­˜å­˜å‚¨ï¼Œå‘½ä»¤ï¼šgit stash show stash@{$num} -p ï¼Œæ¯”å¦‚ç¬¬äºŒä¸ªï¼šgit stash show stash@{1} -p</p>
<pre><code class="language-bash">git stash show -p
</code></pre>
<p>åº”ç”¨æŸä¸ªå­˜å‚¨,ä½†ä¸ä¼šæŠŠå­˜å‚¨ä»å­˜å‚¨åˆ—è¡¨ä¸­åˆ é™¤ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªå­˜å‚¨,å³stash@{0}ï¼Œå¦‚æœè¦ä½¿ç”¨å…¶ä»–ä¸ªï¼Œgit stash apply stash@{$num} ï¼Œ æ¯”å¦‚ç¬¬äºŒä¸ªï¼šgit stash apply stash@{1}</p>
<pre><code class="language-bash">git stash apply
</code></pre>
<p>å‘½ä»¤æ¢å¤ä¹‹å‰ç¼“å­˜çš„å·¥ä½œç›®å½•ï¼Œå°†ç¼“å­˜å †æ ˆä¸­çš„å¯¹åº”stashåˆ é™¤ï¼Œå¹¶å°†å¯¹åº”ä¿®æ”¹åº”ç”¨åˆ°å½“å‰çš„å·¥ä½œç›®å½•ä¸‹,é»˜è®¤ä¸ºç¬¬ä¸€ä¸ªstash,å³stash@{0}ï¼Œå¦‚æœè¦åº”ç”¨å¹¶åˆ é™¤å…¶ä»–stashï¼Œå‘½ä»¤ï¼šgit stash pop stash@{$num} ï¼Œæ¯”å¦‚åº”ç”¨å¹¶åˆ é™¤ç¬¬äºŒä¸ªï¼šgit stash pop stash@{1}</p>
<pre><code class="language-bash">git stash pop
</code></pre>
<p>ä»åˆ—è¡¨ä¸­åˆ é™¤è¿™ä¸ªå­˜å‚¨</p>
<pre><code class="language-bash">git stash drop stash@{$num} ï¼šä¸¢å¼ƒstash@{$num}å­˜å‚¨
</code></pre>
<p>åˆ é™¤æ‰€æœ‰ç¼“å­˜çš„stash</p>
<pre><code class="language-bash">git stash clear
</code></pre>
<p>ä»£ç æäº¤</p>
<pre><code class="language-bash"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº
$ git commit -m [message]

# æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº
$ git commit [file1] [file2] ... -m [message]

# æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº
$ git commit -a

# æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯
$ git commit -v

# ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤
# å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯
$ git commit --amend -m [message]

# é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–
$ git commit --amend [file1] [file2] ...
</code></pre>
<p>åˆ†æ”¯</p>
<pre><code class="language-bash"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯
$ git branch

# åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯
$ git branch -r

# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯
$ git branch -a

# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯
$ git branch [branch-name]

# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯
$ git checkout -b [branch]

# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit
$ git branch [branch] [commit]

# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»
$ git branch --track [branch] [remote-branch]

# åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº
$ git checkout [branch-name]

# åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯
$ git checkout -

# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´
$ git branch --set-upstream [branch] [remote-branch]

# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯
$ git merge [branch]

# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯
$ git cherry-pick [commit]

# åˆ é™¤åˆ†æ”¯
$ git branch -d [branch-name]

# åˆ é™¤è¿œç¨‹åˆ†æ”¯
$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
</code></pre>
<p>æŸ¥çœ‹ä¿¡æ¯</p>
<pre><code class="language-bash"># æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶
$ git status

# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²
$ git log

# æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶
$ git log --stat

# æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯
$ git log -S [keyword]

# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ
$ git log [tag] HEAD --pretty=format:%s

# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶&quot;æäº¤è¯´æ˜&quot;å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶
$ git log [tag] HEAD --grep feature

# æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å
$ git log --follow [file]
$ git whatchanged [file]

# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff
$ git log -p [file]

# æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤
$ git log -5 --pretty --oneline

# æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº
$ git shortlog -sn

# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡
$ git blame [file]

# æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚
$ git diff

# æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚
$ git diff --cached [file]

# æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚
$ git diff HEAD

# æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚
$ git diff [first-branch]...[second-branch]

# æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç 
$ git diff --shortstat &quot;@{0 day ago}&quot;

# æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–
$ git show [commit]

# æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶
$ git show --name-only [commit]

# æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹
$ git show [commit]:[filename]

# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤
$ git reflog
</code></pre>
<p>è¿œç¨‹åŒæ­¥</p>
<pre><code class="language-bash"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨
$ git fetch [remote]

# æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“
$ git remote -v

# æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯
$ git remote show [remote]

# å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å
$ git remote add [shortname] [url]

# å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶
$ git pull [remote] [branch]

# ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
$ git push [remote] [branch]

# å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª
$ git push [remote] --force

# æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
$ git push [remote] --all
</code></pre>
<p>æ’¤é”€</p>
<pre><code class="language-bash"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº
$ git checkout [file]

# æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº
$ git checkout [commit] [file]

# æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº
$ git checkout .

# é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜
$ git reset [file]

# é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´
$ git reset --hard

# é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜
$ git reset [commit]

# é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´
$ git reset --hard [commit]

# é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜
$ git reset --keep [commit]

# æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit
# åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯
$ git revert [commit]

# æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥
$ git stash
$ git stash pop
</code></pre>
<p>æ’¤é”€æœ¬åœ°æäº¤</p>
<blockquote>
<p>HEAD^çš„æ„æ€æ˜¯ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥å†™æˆHEAD~1<br>
å¦‚æœä½ è¿›è¡Œäº†2æ¬¡commitï¼Œæƒ³éƒ½æ’¤å›ï¼Œå¯ä»¥ä½¿ç”¨HEAD~2</p>
</blockquote>
<p>è‡³äºè¿™å‡ ä¸ªå‚æ•°ï¼š</p>
<pre><code>--mixed 
æ„æ€æ˜¯ï¼šä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œå¹¶ä¸”æ’¤é”€git add . æ“ä½œ
è¿™ä¸ªä¸ºé»˜è®¤å‚æ•°,git reset --mixed HEAD^ å’Œ git reset HEAD^ æ•ˆæœæ˜¯ä¸€æ ·çš„
</code></pre>
<pre><code>--soft  
ä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œä¸æ’¤é”€git add . 
</code></pre>
<pre><code>--hard
åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œæ’¤é”€git add . 
æ³¨æ„å®Œæˆè¿™ä¸ªæ“ä½œåï¼Œå°±æ¢å¤åˆ°äº†ä¸Šä¸€æ¬¡çš„commitçŠ¶æ€ã€‚
</code></pre>
<pre><code>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœcommitæ³¨é‡Šå†™é”™äº†ï¼Œåªæ˜¯æƒ³æ”¹ä¸€ä¸‹æ³¨é‡Šï¼Œåªéœ€è¦ï¼š
git commit --amend
æ­¤æ—¶ä¼šè¿›å…¥é»˜è®¤vimç¼–è¾‘å™¨ï¼Œä¿®æ”¹æ³¨é‡Šå®Œæ¯•åä¿å­˜å°±å¥½äº†
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CSSå¸ƒå±€]]></title>
        <id>https://dargonlee.github.io/post/css-bu-ju/</id>
        <link href="https://dargonlee.github.io/post/css-bu-ju/">
        </link>
        <updated>2019-07-09T05:36:06.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="position">position</h1>
<blockquote>
<p>ä¸ºäº†åˆ¶ä½œæ›´å¤šå¤æ‚çš„å¸ƒå±€ï¼Œæˆ‘ä»¬éœ€è¦è®¨è®ºä¸‹<code>position</code>å±æ€§ã€‚å®ƒæœ‰ä¸€å¤§å †çš„å€¼ï¼Œåå­—è¿˜éƒ½ç‰¹æŠ½è±¡ï¼Œåˆ«ææœ‰å¤šéš¾è®°äº†ã€‚è®©æˆ‘ä»¬å…ˆä¸€ä¸ªä¸ªçš„è¿‡ä¸€éï¼Œä¸è¿‡ä½ æœ€å¥½è¿˜æ˜¯æŠŠè¿™é¡µæ”¾åˆ°ä¹¦ç­¾é‡Œã€‚</p>
</blockquote>
<ul>
<li><code>static</code>å…ƒç´ æ¡†æ­£å¸¸ç”Ÿæˆã€‚å—çº§å…ƒç´ ç”Ÿæˆä¸€ä¸ªçŸ©å½¢æ¡†ï¼Œä½œä¸ºæ–‡æ¡£æµçš„ä¸€éƒ¨åˆ†ï¼›è¡Œå†…å…ƒç´ åˆ™ä¼šåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªè¡Œæ¡†ï¼Œç½®äºå…¶çˆ¶å…ƒç´ ä¸­ã€‚</li>
</ul>
<pre><code class="language-css">.static {
    position: static;
}
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<h1 id="position">position</h1>
<blockquote>
<p>ä¸ºäº†åˆ¶ä½œæ›´å¤šå¤æ‚çš„å¸ƒå±€ï¼Œæˆ‘ä»¬éœ€è¦è®¨è®ºä¸‹<code>position</code>å±æ€§ã€‚å®ƒæœ‰ä¸€å¤§å †çš„å€¼ï¼Œåå­—è¿˜éƒ½ç‰¹æŠ½è±¡ï¼Œåˆ«ææœ‰å¤šéš¾è®°äº†ã€‚è®©æˆ‘ä»¬å…ˆä¸€ä¸ªä¸ªçš„è¿‡ä¸€éï¼Œä¸è¿‡ä½ æœ€å¥½è¿˜æ˜¯æŠŠè¿™é¡µæ”¾åˆ°ä¹¦ç­¾é‡Œã€‚</p>
</blockquote>
<ul>
<li><code>static</code>å…ƒç´ æ¡†æ­£å¸¸ç”Ÿæˆã€‚å—çº§å…ƒç´ ç”Ÿæˆä¸€ä¸ªçŸ©å½¢æ¡†ï¼Œä½œä¸ºæ–‡æ¡£æµçš„ä¸€éƒ¨åˆ†ï¼›è¡Œå†…å…ƒç´ åˆ™ä¼šåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªè¡Œæ¡†ï¼Œç½®äºå…¶çˆ¶å…ƒç´ ä¸­ã€‚</li>
</ul>
<pre><code class="language-css">.static {
    position: static;
}
</code></pre>
<!--more-->
<p><code>static</code>æ˜¯é»˜è®¤å€¼ã€‚ä»»æ„<code>position: static;</code>çš„å…ƒç´ ä¸ä¼šè¢«ç‰¹æ®Šçš„å®šä½ã€‚ä¸€ä¸ª static å…ƒç´ è¡¨ç¤ºå®ƒ<em>ä¸ä¼šè¢«â€œpositionedâ€</em>ï¼Œä¸€ä¸ª position å±æ€§è¢«è®¾ç½®ä¸ºå…¶ä»–å€¼çš„å…ƒç´ è¡¨ç¤ºå®ƒ<em>ä¼šè¢«â€œpositionedâ€</em>ã€‚</p>
<ul>
<li><code>relative</code>å…ƒç´ æ¡†ç›¸å¯¹äºä¹‹å‰æ­£å¸¸æ–‡æ¡£æµä¸­çš„ä½ç½®å‘ç”Ÿåç§»ï¼Œå¹¶ä¸”åŸå…ˆçš„ä½ç½®ä»ç„¶è¢«å æ®ã€‚å‘ç”Ÿåç§»çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šè¦†ç›–å…¶ä»–å…ƒç´ ã€‚</li>
</ul>
<pre><code class="language-css">.relative1 {
  position: relative;
}

.relative2 {
  position: relative;
  top: -20px;
  left: 20px;
  background-color: white;
  width: 500px;
}
</code></pre>
<blockquote>
<p>relative1 çš„è¡¨ç°å’Œstaticä¸€æ ·ï¼Œé™¤éä½ æ·»åŠ äº†ä¸€äº›é¢å¤–çš„å±æ€§</p>
<p>åœ¨ä¸€ä¸ªç›¸å¯¹å®šä½ï¼ˆpositionå±æ€§çš„å€¼ä¸ºrelativeï¼‰çš„å…ƒç´ ä¸Šè®¾ç½®<code>top</code>ã€<code>right</code>ã€<code>bottom</code>å’Œ<code>left</code>å±æ€§ä¼šä½¿å…¶åç¦»å…¶æ­£å¸¸ä½ç½®ã€‚å…¶ä»–çš„å…ƒç´ çš„ä½ç½®åˆ™ä¸ä¼šå—è¯¥å…ƒç´ çš„å½±å“å‘ç”Ÿä½ç½®æ”¹å˜æ¥å¼¥è¡¥å®ƒåç¦»åå‰©ä¸‹çš„ç©ºéš™</p>
</blockquote>
<p><code>absolute</code>å…ƒç´ æ¡†ä¸å†å æœ‰æ–‡æ¡£æµä½ç½®ï¼Œå¹¶ä¸”ç›¸å¯¹äºåŒ…å«å—è¿›è¡Œåç§»(æ‰€è°“çš„åŒ…å«å—å°±æ˜¯æœ€è¿‘ä¸€çº§å¤–å±‚å…ƒç´ positionä¸ä¸ºstaticçš„å…ƒç´ )</p>
<p><code>absolute</code>ä¸<code>fixed</code>çš„è¡¨ç°ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä¸æ˜¯ç›¸å¯¹äºè§†çª—è€Œæ˜¯ç›¸å¯¹äº<em>æœ€è¿‘çš„â€œpositionedâ€ç¥–å…ˆå…ƒç´ </em>ã€‚å¦‚æœç»å¯¹å®šä½ï¼ˆpositionå±æ€§çš„å€¼ä¸ºabsoluteï¼‰çš„å…ƒç´ æ²¡æœ‰â€œpositionedâ€ç¥–å…ˆå…ƒç´ ï¼Œé‚£ä¹ˆå®ƒæ˜¯ç›¸å¯¹äºæ–‡æ¡£çš„ body å…ƒç´ ï¼Œå¹¶ä¸”å®ƒä¼šéšç€é¡µé¢æ»šåŠ¨è€Œç§»åŠ¨ã€‚è®°ä½ä¸€ä¸ªâ€œpositionedâ€å…ƒç´ æ˜¯æŒ‡ position å€¼ä¸æ˜¯<code>static</code>çš„å…ƒç´ ã€‚</p>
<pre><code class="language-css">.relative { // çˆ¶å…ƒç´ 
  position: relative; 
  width: 600px;
  height: 400px;
}
.absolute { // å­å…ƒç´ 
  position: absolute;
  top: 120px;
  right: 0;
  width: 300px;
  height: 200px;
}
</code></pre>
<blockquote>
<p>å­å…ƒç´ æ˜¯ç›¸å¯¹å®šä½çš„ã€‚å¦‚æœå®ƒçš„çˆ¶å…ƒç´ æ˜¯<code>position: static;</code>ï¼Œå­å…ƒç´ ä¼šè·³è¿‡çˆ¶å…ƒç´ ç›´æ¥ç›¸å¯¹äºbodyå…ƒç´ å®šä½ã€‚</p>
<p>æ¢å¥è¯è¯´å°±æ˜¯ å­å…ƒç´ è¦æƒ³ä½¿ç”¨  `absolute è¿›è¡Œç»å¯¹å®šä½ é‚£ä¹ˆå®ƒç›¸å¯¹çš„é‚£ä¸ªå…ƒç´ postitionå¿…é¡»relativeï¼Œå¦‚æœçˆ¶å…ƒç´ æ²¡æœ‰relativeçš„è¯ å­å…ƒç´ ä¼šç›¸å¯¹æœ¬èº«æœ€è¿‘çš„ä¸€ä¸ªæœ‰relativeå±æ€§çš„å…ƒç´ è¿›è¡Œå®šä½</p>
</blockquote>
<p><code>fixed</code>å…ƒç´ æ¡†ä¸å†å æœ‰æ–‡æ¡£æµä½ç½®ï¼Œå¹¶ä¸”ç›¸å¯¹äºè§†çª—è¿›è¡Œå®šä½</p>
<pre><code class="language-css">&lt;div class=&quot;footer&quot;&gt;&lt;/div&gt;
.footer {
  position: fixed;
  bottom: 0;
  left: 0;
  height: 70px;
  background-color: white;
  width: 100%;
}
</code></pre>
<p><code>sticky</code>(è¿™æ˜¯css3æ–°å¢çš„å±æ€§å€¼)ç²˜æ€§å®šä½ï¼Œå®˜æ–¹çš„ä»‹ç»æ¯”è¾ƒç®€å•ï¼Œæˆ–è®¸ä½ ä¸èƒ½ç†è§£ã€‚å…¶å®ï¼Œå®ƒå°±ç›¸å½“äºrelativeå’Œfixedæ··åˆã€‚æœ€åˆä¼šè¢«å½“ä½œæ˜¯relativeï¼Œç›¸å¯¹äºåŸæ¥çš„ä½ç½®è¿›è¡Œåç§»ï¼›ä¸€æ—¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ä¹‹åï¼Œä¼šè¢«å½“æˆfixedå®šä½ï¼Œç›¸å¯¹äºè§†å£è¿›è¡Œå®šä½</p>
<blockquote>
<p>ç›¸å¯¹äºbodyå®šä½å¹¶ä¸”æ˜¯æ‚¬æµ®çš„</p>
</blockquote>
<ul>
<li><code>floate</code></li>
</ul>
<blockquote>
<p>å¦ä¸€ä¸ªå¸ƒå±€ä¸­å¸¸ç”¨çš„CSSå±æ€§æ˜¯<code>float</code>ã€‚Float å¯ç”¨äºå®ç°æ–‡å­—ç¯ç»•å›¾ç‰‡</p>
</blockquote>
<pre><code class="language-css">img {
  float: right;
  margin: 0 0 1em 1em;
}
</code></pre>
<ul>
<li><code>clear</code></li>
</ul>
<blockquote>
<p><code>clear</code>å±æ€§è¢«ç”¨äºæ§åˆ¶æµ®åŠ¨ã€‚æ¯”è¾ƒä¸‹é¢ä¸¤ä¸ªä¾‹å­ï¼š</p>
</blockquote>
<pre><code class="language-html">&lt;div class=&quot;box&quot;&gt;...&lt;/div&gt;
&lt;section&gt;...&lt;/section&gt;
</code></pre>
<pre><code class="language-css">.box {
  float: left;
  width: 200px;
  height: 100px;
  margin: 1em;
}
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ section å…ƒç´ å®é™…ä¸Šæ˜¯åœ¨ div ä¹‹åçš„ï¼ˆè¯‘æ³¨ï¼šDOMç»“æ„ä¸Šï¼‰ã€‚ç„¶è€Œ div å…ƒç´ æ˜¯æµ®åŠ¨åˆ°å·¦è¾¹çš„ï¼Œäºæ˜¯ section ä¸­çš„æ–‡å­—å°±å›´ç»•äº† div ï¼Œå¹¶ä¸” section å…ƒç´ åŒ…å›´äº†æ•´ä¸ªå…ƒç´ ã€‚å¦‚æœæˆ‘ä»¬æƒ³è®© section æ˜¾ç¤ºåœ¨æµ®åŠ¨å…ƒç´ ä¹‹åå‘¢ï¼Ÿ
</code></pre>
<pre><code class="language-css">.box {
  float: left;
  width: 200px;
  height: 100px;
  margin: 1em;
}
.after-box {
  clear: left;
}
ä½¿ç”¨ clear æˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªæ®µè½ç§»åŠ¨åˆ°æµ®åŠ¨å…ƒç´  div ä¸‹é¢ã€‚ä½ éœ€è¦ç”¨ left å€¼æ‰èƒ½æ¸…é™¤å…ƒç´ çš„å‘å·¦æµ®åŠ¨ã€‚ä½ è¿˜å¯ä»¥ç”¨ right æˆ– both æ¥æ¸…é™¤å‘å³æµ®åŠ¨æˆ–åŒæ—¶æ¸…é™¤å‘å·¦å‘å³æµ®åŠ¨ã€‚
</code></pre>
<p>æ¸…é™¤æµ®åŠ¨</p>
<pre><code class="language-css">img {
  float: right;
}

.clearfix { //æ¸…é™¤æµ®åŠ¨
  overflow: auto;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[iOS-ç»™UILabelå¢åŠ å¤åˆ¶ç²˜è´´åŠŸèƒ½]]></title>
        <id>https://dargonlee.github.io/post/ios-gei-uilabel-zeng-jia-fu-zhi-nian-tie-gong-neng/</id>
        <link href="https://dargonlee.github.io/post/ios-gei-uilabel-zeng-jia-fu-zhi-nian-tie-gong-neng/">
        </link>
        <updated>2019-06-11T05:37:07.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="ç¬¬ä¸€æ­¥">ç¬¬ä¸€æ­¥</h2>
<pre><code class="language-objectivec">//è®©labelæœ‰èµ„æ ¼æˆä¸ºç¬¬ä¸€å“åº”è€…
- (BOOL)becomeFirstResponder
{
    return YES;
}

//labelèƒ½æ‰§è¡Œå“ªäº›æ“ä½œ(æ¯”å¦‚ æ‹·è´ ç­‰)
- (BOOL)canPerformAction:(SEL)action withSender:(id)sender
{
    if (action == @selector(copy:) || action == @selector(paste:) || action == @selector(cut:)) return YES;
    return NO;
}
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€æ­¥">ç¬¬ä¸€æ­¥</h2>
<pre><code class="language-objectivec">//è®©labelæœ‰èµ„æ ¼æˆä¸ºç¬¬ä¸€å“åº”è€…
- (BOOL)becomeFirstResponder
{
    return YES;
}

//labelèƒ½æ‰§è¡Œå“ªäº›æ“ä½œ(æ¯”å¦‚ æ‹·è´ ç­‰)
- (BOOL)canPerformAction:(SEL)action withSender:(id)sender
{
    if (action == @selector(copy:) || action == @selector(paste:) || action == @selector(cut:)) return YES;
    return NO;
}
</code></pre>
<!--more-->
<h2 id="ç¬¬äºŒæ­¥">ç¬¬äºŒæ­¥</h2>
<pre><code class="language-objectivec">
- (void)copy:(UIMenuController *)menu
{
    //å°†è‡ªå·±çš„æ–‡å­—èµ‹å€¼åˆ°ç²˜è´´æ¿
    [self copy:menu];
    //æ¸…ç©ºæ–‡å­—
    self.text = nil;
}

- (void)paste:(UIMenuController *)menu
{
    //å°†è‡ªå·±çš„æ–‡å­—èµ‹å€¼åˆ°ç²˜è´´æ¿
    UIPasteboard * board = [UIPasteboard generalPasteboard];
    board.string = self.text;
}

- (void)cut:(UIMenuController *)menu
{
    UIPasteboard * board = [UIPasteboard generalPasteboard];
    self.text = board.string;
}
</code></pre>
<h2 id="ç¬¬ä¸‰æ­¥">ç¬¬ä¸‰æ­¥</h2>
<pre><code class="language-objectivec">- (void)awakeFromNib
{
    [self setup];
    [super awakeFromNib];
}

- (instancetype)initWithFrame:(CGRect)frame
{
    if (self == [super initWithFrame:frame]) {
        [self setup];
    }
    return self;
}

- (void)setup
{
    self.userInteractionEnabled = YES;

    [self addGestureRecognizer:[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(labelClick)]];
}
</code></pre>
<p>æ˜¾ç¤ºmenu</p>
<pre><code class="language-objectivec">- (void)labelClick
{
    //1.è®©labelæˆä¸ºç¬¬ä¸€å“åº”è€…(è¿™é‡Œçš„selfæ˜¯UILabel)
    [self becomeFirstResponder];

    //2.æ˜¾ç¤ºmenuController
    UIMenuController * menu = [UIMenuController sharedMenuController];
//    [menu setTargetRect:self.frame inView:self.superview];
    [menu setTargetRect:self.bounds inView:self];
    [menu setMenuVisible:YES animated:YES];

    NSLog(@&quot;%s&quot;,__func__);
}
</code></pre>
<h1 id="over">OVER</h1>
<p>å¦‚æœä½ æƒ³è‡ªå®šä¹‰çš„è¯å¯ä»¥å†™ä¸‹é¢æ–¹æ³•(ç›¸åº”çš„å®ç°æ–¹æ³•éœ€è¦å†æ§åˆ¶å™¨é‡Œé¢å®ç°ä¸ç„¶ç”¨ä¸äº†)</p>
<pre><code class="language-objectivec">UIMenuController * menu = [UIMenuController sharedMenuController];
UIMenuItem * reply = [[UIMenuItem alloc]initWithTitle:@&quot;å›å¤&quot; action:@selector(replay:)];
UIMenuItem * ding = [[UIMenuItem alloc]initWithTitle:@&quot;é¡¶&quot; action:@selector(ding:)];
UIMenuItem * report = [[UIMenuItem alloc]initWithTitle:@&quot;ä¸¾æŠ¥&quot; action:@selector(report:)];
menu.menuItems = @[reply,ding,report];
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¿®æ”¹iOSè¿”å›æŒ‰é’®çš„å‡ ç§æ–¹å¼]]></title>
        <id>https://dargonlee.github.io/post/xiu-gai-ios-fan-hui-an-niu-de-ji-chong-fang-shi/</id>
        <link href="https://dargonlee.github.io/post/xiu-gai-ios-fan-hui-an-niu-de-ji-chong-fang-shi/">
        </link>
        <updated>2019-02-13T02:43:05.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="ç¬¬ä¸€ç§">ç¬¬ä¸€ç§</h3>
<pre><code class="language-objectivec">UIImage *backButtonImage = [[UIImage imageNamed:@&quot;back&quot;] resizableImageWithCapInsets:UIEdgeInsetsMake(0, 25, 0, 0)];

[[UIBarButtonItem appearance] setBackButtonBackgroundImage:backButtonImage forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];

[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(NSIntegerMin, NSIntegerMin) forBarMetrics:UIBarMetricsDefault];
</code></pre>
<blockquote>
<p>æç¤º:ä¸Šé¢è¿™ç§æ–¹æ³•ä¼šè¢«ç³»ç»Ÿç»™æ‹‰ä¼¸,éœ€è¦åœ¨å½“å‰æ§åˆ¶å™¨é‡Œé¢è®¾ç½®</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<h3 id="ç¬¬ä¸€ç§">ç¬¬ä¸€ç§</h3>
<pre><code class="language-objectivec">UIImage *backButtonImage = [[UIImage imageNamed:@&quot;back&quot;] resizableImageWithCapInsets:UIEdgeInsetsMake(0, 25, 0, 0)];

[[UIBarButtonItem appearance] setBackButtonBackgroundImage:backButtonImage forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];

[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(NSIntegerMin, NSIntegerMin) forBarMetrics:UIBarMetricsDefault];
</code></pre>
<blockquote>
<p>æç¤º:ä¸Šé¢è¿™ç§æ–¹æ³•ä¼šè¢«ç³»ç»Ÿç»™æ‹‰ä¼¸,éœ€è¦åœ¨å½“å‰æ§åˆ¶å™¨é‡Œé¢è®¾ç½®</p>
</blockquote>
<!--more-->
<h3 id="ç¬¬äºŒç§">ç¬¬äºŒç§</h3>
<pre><code class="language-objectivec">UIBarButtonItem *backItem = [[UIBarButtonItem alloc] init];
backItem.title = @&quot;&quot;;
//ä¸»è¦æ˜¯ä»¥ä¸‹ä¸¤ä¸ªå›¾ç‰‡è®¾ç½®
self.navigationController.navigationBar.backIndicatorImage = [UIImage imageNamed:@&quot;backPic&quot;];
self.navigationController.navigationBar.backIndicatorTransitionMaskImage = [UIImage imageNamed:@&quot;backPic&quot;];        
self.navigationItem.backBarButtonItem = backItem;
</code></pre>
<blockquote>
<p>æç¤º: è¿™ç§æ–¹æ³•åœ¨çˆ¶ç±»æ–¹æ³•ä¸­è®¾ç½®å¥½ä½¿</p>
</blockquote>
<h3 id="-ä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½æ˜¯åœ¨ä¸æ”¹å˜ç³»ç»Ÿæ‰‹åŠ¿æ»‘åŠ¨è¿”å›çš„æƒ…å†µä¸‹çš„">- ä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½æ˜¯åœ¨ä¸æ”¹å˜ç³»ç»Ÿæ‰‹åŠ¿æ»‘åŠ¨è¿”å›çš„æƒ…å†µä¸‹çš„</h3>
<h3 id="ç¬¬ä¸‰ç§">ç¬¬ä¸‰ç§</h3>
<pre><code class="language-objectivec">//åˆ›å»ºä¸€ä¸ªUIButton
UIButton *backButton = [[UIButton alloc]initWithFrame:CGRectMake(0, 0, 40, 40)];
//è®¾ç½®UIButtonçš„å›¾åƒ
[backButton setImage:[UIImage imageNamed:@&quot;left_select_img.png&quot;] forState:UIControlStateNormal];
//ç»™UIButtonç»‘å®šä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡ŒpopViewControllerAnimated
[backButton addTarget:self action:@selector(backItemClick) forControlEvents:UIControlEventTouchUpInside];
//ç„¶åé€šè¿‡ç³»ç»Ÿç»™çš„è‡ªå®šä¹‰BarButtonItemçš„æ–¹æ³•åˆ›å»ºBarButtonItem
UIBarButtonItem *backItem = [[UIBarButtonItem alloc]initWithCustomView:backButton];
//è¦†ç›–è¿”å›æŒ‰é”®
self.navigationItem.leftBarButtonItem = backItem;
</code></pre>
<blockquote>
<p>æç¤º:è¿™ç§æ–¹æ³•ä¼šå¤±å»æ‰‹åŠ¿æ»‘åŠ¨è¿”å›çš„åŠŸèƒ½</p>
</blockquote>
<h3 id="ç¬¬å››ç§">ç¬¬å››ç§</h3>
<pre><code class="language-objectivec">//é‡æ–°åˆ›å»ºä¸€ä¸ªbarButtonItem
UIBarButtonItem *backItem = [[UIBarButtonItem alloc]initWithTitle:@&quot;ä½ æƒ³è¦è®¾ç½®çš„è¿”å›æŒ‰é’®æ–‡å­—&quot; style:UIBarButtonItemStylePlain target:nil action:nil];
//è®¾ç½®backBarButtonItemå³å¯
self.navigationItem.backBarButtonItem = backItem;
</code></pre>
<blockquote>
<p>æç¤º:ä¸Šé¢è¿™ç§æ–¹å¼åªæ˜¯ä¿®æ”¹è¿”å›æ–‡å­—è€Œå·² è‡³äºè¿”å›å›¾æ ‡è¿˜æ˜¯ç³»ç»Ÿæä¾›çš„ æ‰‹åŠ¿æ»‘åŠ¨è¿”å›ä¾ç„¶å­˜åœ¨</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://dargonlee.github.io/post/hello-gridea/</id>
        <link href="https://dargonlee.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[iOS WKWebView åŒæ­¥è¿”å›å€¼ç»™JS]]></title>
        <id>https://dargonlee.github.io/post/ios-wkwebview-tong-bu-fan-hui-zhi-gei-js/</id>
        <link href="https://dargonlee.github.io/post/ios-wkwebview-tong-bu-fan-hui-zhi-gei-js/">
        </link>
        <updated>2018-10-23T05:49:38.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>æˆ‘ä»¬éƒ½çŸ¥é“iOS WKWebView è·ŸJSé€šä¿¡çš„æ—¶å€™ ç”±äºJS Call OC åŒæ­¥è¿”å›æˆ‘è¿™é‡Œé‡‡ç”¨äº†ä¸åŒäºå¼‚æ­¥messageHandlerçš„é€šä¿¡æ–¹å¼ï¼Œå› æ­¤åŒæ­¥è¿”å›è¦å•ç‹¬è¿›è¡Œè®¾è®¡</p>
<p>åœ¨æˆ‘å‘ç°ä¸‹é¢æ–¹æ³•çš„æ—¶å€™ ä¸€èˆ¬æˆ‘ä»¬å¤„ç† ä¸JSäº¤äº’çš„æ—¶å€™éƒ½æ˜¯ JSè°ƒç”¨æˆ‘ä»¬ ç„¶åæˆ‘ä»¬å†å»è°ƒç”¨JSæ–¹æ³• å¹¶ä¸èƒ½åŒæ­¥ç»™JSè¿”å›å€¼</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>æˆ‘ä»¬éƒ½çŸ¥é“iOS WKWebView è·ŸJSé€šä¿¡çš„æ—¶å€™ ç”±äºJS Call OC åŒæ­¥è¿”å›æˆ‘è¿™é‡Œé‡‡ç”¨äº†ä¸åŒäºå¼‚æ­¥messageHandlerçš„é€šä¿¡æ–¹å¼ï¼Œå› æ­¤åŒæ­¥è¿”å›è¦å•ç‹¬è¿›è¡Œè®¾è®¡</p>
<p>åœ¨æˆ‘å‘ç°ä¸‹é¢æ–¹æ³•çš„æ—¶å€™ ä¸€èˆ¬æˆ‘ä»¬å¤„ç† ä¸JSäº¤äº’çš„æ—¶å€™éƒ½æ˜¯ JSè°ƒç”¨æˆ‘ä»¬ ç„¶åæˆ‘ä»¬å†å»è°ƒç”¨JSæ–¹æ³• å¹¶ä¸èƒ½åŒæ­¥ç»™JSè¿”å›å€¼</p>
</blockquote>
<!--more-->
<h3 id="ä»£ç†æ–¹æ³•åˆ†æ">ä»£ç†æ–¹æ³•åˆ†æ</h3>
<p>åœ¨æˆ‘ä»¬å†™WKWebViewçš„æ—¶å€™éœ€è¦éµå®ˆ<code>WKUIDelegate</code>åè®® å…¶ä¸­é‡Œé¢æœ‰è¿™å‡ ä¸ªæ–¹æ³•</p>
<pre><code class="language-objectivec">// è·å–js é‡Œé¢çš„æç¤º
-(void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler
{

    UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;æç¤º&quot; message:message preferredStyle:UIAlertControllerStyleAlert];
    [alert addAction:[UIAlertAction actionWithTitle:@&quot;ç¡®å®š&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
        completionHandler();
    }]];

    [self presentViewController:alert animated:YES completion:NULL];
}

// js ä¿¡æ¯çš„äº¤æµ
-(void)webView:(WKWebView *)webView runJavaScriptConfirmPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(BOOL))completionHandler
{
    UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;æç¤º&quot; message:message preferredStyle:UIAlertControllerStyleAlert];
    [alert addAction:[UIAlertAction actionWithTitle:@&quot;ç¡®å®š&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
        completionHandler(YES);
    }]];
    [alert addAction:[UIAlertAction actionWithTitle:@&quot;å–æ¶ˆ&quot; style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        completionHandler(NO);
    }]];
    [self presentViewController:alert animated:YES completion:NULL];
}

// äº¤äº’ã€‚å¯è¾“å…¥çš„æ–‡æœ¬ã€‚
-(void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * _Nullable))completionHandler
{

    UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;textinput&quot; message:@&quot;JSè°ƒç”¨è¾“å…¥æ¡†&quot; preferredStyle:UIAlertControllerStyleAlert];
    [alert addTextFieldWithConfigurationHandler:^(UITextField * _Nonnull textField) {
        textField.textColor = [UIColor redColor];
    }];
    [alert addAction:[UIAlertAction actionWithTitle:@&quot;ç¡®å®š&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
        completionHandler([[alert.textFields lastObject] text]);
    }]];

    [self presentViewController:alert animated:YES completion:NULL];

}
</code></pre>
<p>ä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯åœ¨jsè°ƒç”¨alert confirm prompt çš„æ—¶å€™ è¿›è¡Œæ‹¦æˆª ç„¶åå¼¹å‡ºç³»ç»Ÿæ ·å¼çš„ç•Œé¢</p>
<ul>
<li><code>runJavaScriptConfirmPanelWithMessage</code>è¿™ä¸ªä»£ç†æ–¹æ³•æ˜¯åœ¨JS è°ƒç”¨ <code>alert('xxx')</code>çš„æ—¶å€™ä¼šè°ƒç”¨  ä¸”å›è°ƒå‡½æ•°å‚æ•°ä¸ºç©º</li>
<li><code>runJavaScriptConfirmPanelWithMessage</code>è¿™ä¸ªä»£ç†æ–¹æ³•æ˜¯åœ¨JSè°ƒç”¨confirmå‡½æ•°çš„æ—¶å€™ä¼šè¿›è¡Œæ‹¦æˆªè°ƒç”¨ ä¸”å›è°ƒå‡½æ•°å‚æ•°ä¸ºBoolå€¼ åŒæ­¥å‘Šè¯‰JS å½“å‰ç”¨æˆ·ç‚¹å‡»äº†ç¡®å®šæŒ‰é’®è¿˜æ˜¯å–æ¶ˆæŒ‰é’®</li>
<li><code>runJavaScriptTextInputPanelWithPrompt</code> è¿™ä¸ªä»£ç†æ–¹æ³•æ˜¯åœ¨JSè°ƒç”¨promptå‡½æ•°çš„æ—¶å€™è¿›è¡Œæ‹¦æˆªè°ƒç”¨çš„ ä¸”å›è°ƒå‡½æ•°çš„å‚æ•°ä¸º<code>NSString</code>ç±»å‹</li>
</ul>
<h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3>
<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½å°±å·²ç»æ˜ç™½äº† åœ¨è¿™ä¸ª<code>runJavaScriptTextInputPanelWithPrompt</code> ä»£ç†æ–¹æ³•ä¸­ å¯ä»¥å›è°ƒå­—ç¬¦ä¸² ä¹Ÿå°±æ„å‘³ç€å¯ä»¥ç»™JSè¿”å›å€¼<br>
å¯èƒ½æœ‰åŒå­¦ä¼šé—® æˆ‘ä¸éœ€è¦é‚£ä¸ªå¼¹å‡ºçª—æ€ä¹ˆåŠ  å…¶å®ä½ ä¸éœ€è¦çš„è¯ ç›´æ¥åœ¨ä»£ç†æ–¹æ³•ä¸­å†™<br>
<code>completionHandler(&quot;xxxx&quot;);</code>å°±è¡Œ ä¸éœ€è¦å†™<code>UIAlertController</code>é‚£ä¸€å¤§å †</p>
<h3 id="ä¸‹é¢ç»™å‡ºç›¸åº”çš„å…·ä½“ä»£ç ">ä¸‹é¢ç»™å‡ºç›¸åº”çš„å…·ä½“ä»£ç </h3>
<ul>
<li>
<p>JSéƒ¨åˆ† åœ¨éœ€è¦è·ŸåŸç”Ÿäº¤äº’çš„åœ°æ–¹å†™ä¸‹é¢çš„æ–¹æ³•</p>
<pre><code>window.prompt(text,defaultText);
</code></pre>
<p><code>text</code>å¯é€‰ã€‚è¦åœ¨å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„æç¤ºä¿¡æ¯ï¼ˆçº¯æ–‡æœ¬ï¼‰</p>
<p><code>defaultText</code>å¯é€‰ã€‚é»˜è®¤çš„è¾“å…¥æ–‡æœ¬ã€‚</p>
<p>ä¸€èˆ¬åªéœ€è¦å†™textå°±è¡Œ defaultText ä¸ºç©ºå­—ç¬¦å°±å¯ä»¥</p>
</li>
<li>
<p>OCéƒ¨åˆ† åœ¨jsè°ƒç”¨promptæ–¹æ³•åä¼šæ¥åˆ°ç›¸åº”çš„ä»£ç†æ–¹æ³•ä¸­</p>
<pre><code class="language-objectivec">// äº¤äº’ã€‚å¯è¾“å…¥çš„æ–‡æœ¬ã€‚
-(void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * _Nullable))completionHandler
{
  NSLog(@&quot;%@---%@&quot;,prompt,defaultText);
  completionHandler(@&quot;xxxxx&quot;);//è¿™é‡Œå°±æ˜¯è¦è¿”å›ç»™JSçš„è¿”å›å€¼
}
</code></pre>
<p><code>prompt</code> å°±æ˜¯ä¸Šé¢JS <code>text</code>å‚æ•°</p>
<p><code>defaultText</code> å°±æ˜¯ä¸Šé¢JS <code>defaultText</code>å‚æ•°</p>
</li>
</ul>
<p>å¦‚æœä½ éœ€è¦åšå‚æ•°åŒºåˆ†çš„è¯ å¯ä»¥çµæ´»çš„è¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³• å»è¿”å›ç»™JSä¸åŒçš„è¿”å›å€¼<br>
<code>æç¤º</code> å¦‚æœè¦ä¸€æ¬¡è¿”å›å¤šä¸ªå‚æ•°å€¼ ä½ å¯ä»¥æŠŠå‚æ•°ä»¥é€—å·æ‹¼æ¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸² è¿”å›ç»™JS ç„¶åJSæ¥æ”¶åˆ°å‚æ•°çš„æ—¶å€™ å†è¿›è¡Œåˆ†å‰²è§£æè¿ç”¨ è¿™é‡Œåªæ˜¯ç»™å‡ºä¸€äº›æƒ³æ³• æ›´å¤šçš„å°±è¦é åŒå­¦ä»¬è‡ªå·±çµæ´»è¿ç”¨äº†</p>
<h3 id="å®Œæ¯•">å®Œæ¯•</h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[iOSå¯Œæ–‡æœ¬]]></title>
        <id>https://dargonlee.github.io/post/ios-fu-wen-ben/</id>
        <link href="https://dargonlee.github.io/post/ios-fu-wen-ben/">
        </link>
        <updated>2018-09-13T05:45:37.000Z</updated>
        <summary type="html"><![CDATA[<p>åœ¨iOSä¸Šèƒ½è¿›è¡Œæ–‡æœ¬æ˜¾ç¤ºçš„æ§ä»¶æœ‰UILableï¼ŒUITextFieldï¼ŒUITextViewã€‚ç„¶è€Œè¿™äº›æ§ä»¶æœ¬èº«å¯¹æ–‡æœ¬çš„å±•ç°æ–¹å¼å¾ˆå•ä¸€ï¼Œé€šå¸¸ä»…ä»…èƒ½å¤Ÿæ§åˆ¶å­—ä½“æ ·å¼ã€å¤§å°ã€é¢œè‰²ã€åŠ ç²—ã€æ–œä½“ç­‰ç­‰ï¼Œè€Œå¯¹äºè¡Œè·æ§åˆ¶ï¼Œå­—è·æ§åˆ¶ï¼Œæ®µè½æ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½å´æ— èƒ½ä¸ºåŠ›ã€‚</p>
<p>è€ŒiOS7çš„å‘å¸ƒï¼Œè‹¹æœåˆå¼•å…¥äº†TextKit,TextKitæ˜¯ä¸€ä¸ªå¿«é€Ÿè€Œåˆç°ä»£åŒ–çš„æ–‡å­—æ’ç‰ˆå’Œæ¸²æŸ“å¼•æ“ã€‚</p>
<p>TextKitå¹¶æ²¡æœ‰æ–°å¢ç±»ï¼Œåªæ˜¯åœ¨åŸæœ‰çš„æ–‡æœ¬æ˜¾ç¤ºæ§ä»¶ä¸Šè¿›è¡Œäº†å°è£…ï¼Œå¯ä»¥åœ¨å¹³æ—¶æˆ‘ä»¬æœ€å–œæ¬¢ä½¿ç”¨çš„UILabelï¼ŒUITextFieldï¼ŒUITextViewç­‰æ§ä»¶é‡Œé¢ä½¿ç”¨ï¼Œå…¶æœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯ä¸ºç¨‹åºæä¾›æ–‡å­—æ’ç‰ˆå’Œæ¸²æŸ“çš„åŠŸèƒ½</p>
]]></summary>
        <content type="html"><![CDATA[<p>åœ¨iOSä¸Šèƒ½è¿›è¡Œæ–‡æœ¬æ˜¾ç¤ºçš„æ§ä»¶æœ‰UILableï¼ŒUITextFieldï¼ŒUITextViewã€‚ç„¶è€Œè¿™äº›æ§ä»¶æœ¬èº«å¯¹æ–‡æœ¬çš„å±•ç°æ–¹å¼å¾ˆå•ä¸€ï¼Œé€šå¸¸ä»…ä»…èƒ½å¤Ÿæ§åˆ¶å­—ä½“æ ·å¼ã€å¤§å°ã€é¢œè‰²ã€åŠ ç²—ã€æ–œä½“ç­‰ç­‰ï¼Œè€Œå¯¹äºè¡Œè·æ§åˆ¶ï¼Œå­—è·æ§åˆ¶ï¼Œæ®µè½æ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½å´æ— èƒ½ä¸ºåŠ›ã€‚</p>
<p>è€ŒiOS7çš„å‘å¸ƒï¼Œè‹¹æœåˆå¼•å…¥äº†TextKit,TextKitæ˜¯ä¸€ä¸ªå¿«é€Ÿè€Œåˆç°ä»£åŒ–çš„æ–‡å­—æ’ç‰ˆå’Œæ¸²æŸ“å¼•æ“ã€‚</p>
<p>TextKitå¹¶æ²¡æœ‰æ–°å¢ç±»ï¼Œåªæ˜¯åœ¨åŸæœ‰çš„æ–‡æœ¬æ˜¾ç¤ºæ§ä»¶ä¸Šè¿›è¡Œäº†å°è£…ï¼Œå¯ä»¥åœ¨å¹³æ—¶æˆ‘ä»¬æœ€å–œæ¬¢ä½¿ç”¨çš„UILabelï¼ŒUITextFieldï¼ŒUITextViewç­‰æ§ä»¶é‡Œé¢ä½¿ç”¨ï¼Œå…¶æœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯ä¸ºç¨‹åºæä¾›æ–‡å­—æ’ç‰ˆå’Œæ¸²æŸ“çš„åŠŸèƒ½</p>
<!--more-->
<h2 id="1-nsmutableattributedstringçš„åŸºæœ¬ä½¿ç”¨">1ã€NSMutableAttributedStringçš„åŸºæœ¬ä½¿ç”¨</h2>
<p>å¯Œæ–‡æœ¬æ³¨æ„ï¼š<br>
å…ˆè®¾ç½®çš„å…ˆæ˜¾ç¤ºï¼Œåè®¾ç½®çš„ï¼Œå¦‚æœå’Œå…ˆè®¾ç½®çš„æ ·å¼ä¸ä¸€è‡´ï¼Œæ˜¯ä¼šè¦†ç›–çš„ï¼Œå¯Œæ–‡æœ¬çš„è®¾ç½®å…·æœ‰å…ˆåé¡ºåºã€‚<br>
ä¸è¦å¿½ç•¥äº†ç©ºæ ¼ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚<br>
å»ºè®®ä½¿ç”¨çµæ´»çš„å¥½ç”¨çš„NSMutableAttributedStringï¼Œä¸è¦ä½¿ç”¨NSAttributedStringã€‚<br>
å¯Œæ–‡æœ¬åŸºæœ¬ä½¿ç”¨æ–¹æ³•çš„æ€è·¯æ¦‚è¦</p>
<p>1ã€åˆ›å»ºä¸€ä¸ªNSMutableAttributedStringå¯Œæ–‡æœ¬å¯¹è±¡(ä¸€èˆ¬ä¸ç”¨NSAttributedString)<br>
2ã€è®¾ç½®addAttributeå±æ€§<br>
(1) addAttribute: ä¸€ä¸ªå±æ€§<br>
(2) addAttributes: ä¸€ä¸ªå­˜å‚¨å¤šä¸ªå±æ€§çš„å±æ€§å­—å…¸ï¼Œæ¯”å¦‚è¿™ä¸ªå­—å…¸å¯ä»¥æ˜¯ï¼š</p>
<pre><code class="language-objectivec"> NSDictionary *attrDic = @{ 
   NSFontAttributeName: [UIFont fontWithName: @&quot;Zapfino&quot; size: 15],                               
   NSForegroundColorAttributeName: [UIColor blueColor] 
};
</code></pre>
<p>3ã€æ§ä»¶.attributedText = å¯Œæ–‡æœ¬å¯¹è±¡(å’Œæ§ä»¶.txt = NSStringæ–‡æœ¬å¯¹è±¡ä¸ä¸€æ ·çš„)</p>
<pre><code class="language-objectivec">
    //æ·»åŠ å¯Œæ–‡æœ¬å¯¹è±¡
    NSMutableAttributedString * attr = [[NSMutableAttributedString alloc]initWithString:str];
    //è®¾ç½®å­—ä½“é¢œè‰²ä¸ºçº¢è‰²
    [attr addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:NSMakeRange(4, 5)];
    //è®¾ç½®å­—ä½“å¤§å°
    [attr addAttribute:NSFontAttributeName value:[UIFont systemFontOfSize:28] range:NSMakeRange(4, 5)];

    self.label.attributedText = attr;
</code></pre>
<figure data-type="image" tabindex="1"><img src="http://upload-images.jianshu.io/upload_images/646265-b146d2754a533bd3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png" loading="lazy"></figure>
<p>###NSMutableAttributedStringå¯ä»¥è®¾ç½®çš„å±æ€§æœ‰ï¼š</p>
<pre><code class="language-objectivec">NSFontAttributeName                è®¾ç½®å­—ä½“å±æ€§ï¼Œé»˜è®¤å€¼ï¼šå­—ä½“ï¼šHelvetica(Neue) å­—å·ï¼š12
NSForegroundColorAttributeNam      è®¾ç½®å­—ä½“é¢œè‰²ï¼Œå–å€¼ä¸º UIColorå¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºé»‘è‰²
NSBackgroundColorAttributeName     è®¾ç½®å­—ä½“æ‰€åœ¨åŒºåŸŸèƒŒæ™¯é¢œè‰²ï¼Œå–å€¼ä¸º UIColorå¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºnil, é€æ˜è‰²
NSLigatureAttributeName            è®¾ç½®è¿ä½“å±æ€§ï¼Œå–å€¼ä¸ºNSNumber å¯¹è±¡(æ•´æ•°)ï¼Œ0 è¡¨ç¤ºæ²¡æœ‰è¿ä½“å­—ç¬¦ï¼Œ1 è¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„è¿ä½“å­—ç¬¦
NSKernAttributeName                è®¾å®šå­—ç¬¦é—´è·ï¼Œå–å€¼ä¸º NSNumber å¯¹è±¡ï¼ˆæ•´æ•°ï¼‰ï¼Œæ­£å€¼é—´è·åŠ å®½ï¼Œè´Ÿå€¼é—´è·å˜çª„
NSStrikethroughStyleAttributeName  è®¾ç½®åˆ é™¤çº¿ï¼Œå–å€¼ä¸º NSNumber å¯¹è±¡ï¼ˆæ•´æ•°ï¼‰
NSStrikethroughColorAttributeName  è®¾ç½®åˆ é™¤çº¿é¢œè‰²ï¼Œå–å€¼ä¸º UIColor å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºé»‘è‰²
NSUnderlineStyleAttributeName      è®¾ç½®ä¸‹åˆ’çº¿ï¼Œå–å€¼ä¸º NSNumber å¯¹è±¡ï¼ˆæ•´æ•°ï¼‰ï¼Œæšä¸¾å¸¸é‡ NSUnderlineStyleä¸­çš„å€¼ï¼Œä¸åˆ é™¤çº¿ç±»ä¼¼
NSUnderlineColorAttributeName      è®¾ç½®ä¸‹åˆ’çº¿é¢œè‰²ï¼Œå–å€¼ä¸º UIColor å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºé»‘è‰²
NSStrokeWidthAttributeName         è®¾ç½®ç¬”ç”»å®½åº¦ï¼Œå–å€¼ä¸º NSNumber å¯¹è±¡ï¼ˆæ•´æ•°ï¼‰ï¼Œè´Ÿå€¼å¡«å……æ•ˆæœï¼Œæ­£å€¼ä¸­ç©ºæ•ˆæœ
NSStrokeColorAttributeName         å¡«å……éƒ¨åˆ†é¢œè‰²ï¼Œä¸æ˜¯å­—ä½“é¢œè‰²ï¼Œå–å€¼ä¸º UIColor å¯¹è±¡
NSShadowAttributeName              è®¾ç½®é˜´å½±å±æ€§ï¼Œå–å€¼ä¸º NSShadow å¯¹è±¡
NSTextEffectAttributeName          è®¾ç½®æ–‡æœ¬ç‰¹æ®Šæ•ˆæœï¼Œå–å€¼ä¸º NSString å¯¹è±¡ï¼Œç›®å‰åªæœ‰å›¾ç‰ˆå°åˆ·æ•ˆæœå¯ç”¨ï¼š
NSBaselineOffsetAttributeName      è®¾ç½®åŸºçº¿åç§»å€¼ï¼Œå–å€¼ä¸º NSNumber ï¼ˆfloatï¼‰,æ­£å€¼ä¸Šåï¼Œè´Ÿå€¼ä¸‹å
NSObliquenessAttributeName         è®¾ç½®å­—å½¢å€¾æ–œåº¦ï¼Œå–å€¼ä¸º NSNumber ï¼ˆfloatï¼‰,æ­£å€¼å³å€¾ï¼Œè´Ÿå€¼å·¦å€¾
NSExpansionAttributeName           è®¾ç½®æ–‡æœ¬æ¨ªå‘æ‹‰ä¼¸å±æ€§ï¼Œå–å€¼ä¸º NSNumber ï¼ˆfloatï¼‰,æ­£å€¼æ¨ªå‘æ‹‰ä¼¸æ–‡æœ¬ï¼Œè´Ÿå€¼æ¨ªå‘å‹ç¼©æ–‡æœ¬
NSWritingDirectionAttributeName    è®¾ç½®æ–‡å­—ä¹¦å†™æ–¹å‘ï¼Œä»å·¦å‘å³ä¹¦å†™æˆ–è€…ä»å³å‘å·¦ä¹¦å†™
NSVerticalGlyphFormAttributeName   è®¾ç½®æ–‡å­—æ’ç‰ˆæ–¹å‘ï¼Œå–å€¼ä¸º NSNumber å¯¹è±¡(æ•´æ•°)ï¼Œ0 è¡¨ç¤ºæ¨ªæ’æ–‡æœ¬ï¼Œ1 è¡¨ç¤ºç«–æ’æ–‡æœ¬
NSLinkAttributeName                è®¾ç½®é“¾æ¥å±æ€§ï¼Œç‚¹å‡»åè°ƒç”¨æµè§ˆå™¨æ‰“å¼€æŒ‡å®šURLåœ°å€
NSAttachmentAttributeName          è®¾ç½®æ–‡æœ¬é™„ä»¶,å–å€¼ä¸ºNSTextAttachmentå¯¹è±¡,å¸¸ç”¨äºæ–‡å­—å›¾ç‰‡æ··æ’
NSParagraphStyleAttributeName      è®¾ç½®æ–‡æœ¬æ®µè½æ’ç‰ˆæ ¼å¼ï¼Œå–å€¼ä¸º NSParagraphStyle å¯¹è±¡
</code></pre>
<h3 id="2nstextattachmentå›¾æ–‡æ··æ’ç®€å•åº”ç”¨">2.NSTextAttachmentå›¾æ–‡æ··æ’ç®€å•åº”ç”¨</h3>
<pre><code class="language-objectivec">
    //è®¾ç½®å›¾ç‰‡
    NSTextAttachment * attachment = [[NSTextAttachment alloc]init];
    //è®¾ç½®å›¾ç‰‡å±æ€§
    attachment.image = [UIImage imageNamed:@&quot;selected&quot;];
    //è®¾ç½®å›¾ç‰‡çš„bounds
    attachment.bounds = CGRectMake(0, 0, self.view.bounds.size.width, 180);
    //å°†attachmentè½¬æ¢æˆå­—ç¬¦ä¸²å±æ€§
    NSMutableAttributedString *attachmentString = (NSMutableAttributedString *)[NSAttributedString attributedStringWithAttachment:attachment];
    //æŠŠå›¾ç‰‡æ’å…¥åˆ°æ–‡æœ¬ä¸­
    [self.textView.textStorage insertAttributedString:attachmentString atIndex:0];

//ä¹Ÿå¯ä»¥æ‹¼æ¥åˆ°æ–‡æœ¬åé¢
//    [self.textView.textStorage appendAttributedString:attachmentString];
</code></pre>
<figure data-type="image" tabindex="2"><img src="http://upload-images.jianshu.io/upload_images/646265-1ff7c031aef05e6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png" loading="lazy"></figure>
<p>###textviewçš„å®é™…ä½¿ç”¨</p>
<ul>
<li>
<p>å®ç°çš„è¿‡ç¨‹å¦‚ä¸‹:</p>
<p>storage --&gt; layoutManager --&gt; textContainer --&gt; textView</p>
</li>
</ul>
<pre><code class="language-objectivec">
    // è£…è½½å†…å®¹çš„å®¹å™¨
    NSTextStorage *storage = [NSTextStorage new];
    [storage replaceCharactersInRange:NSMakeRange(0, 0)
                           withString:
     @&quot;æœªé€‰æ‹©çš„è·¯-å¼—ç½—æ–¯ç‰¹\n\né»„è‰²çš„æ ‘æ—é‡Œåˆ†å‡ºä¸¤æ¡è·¯ï¼Œ\nå¯æƒœæˆ‘ä¸èƒ½åŒæ—¶å»æ¶‰è¶³ï¼Œ\næˆ‘åœ¨é‚£è·¯å£ä¹…ä¹…ä¼«ç«‹ï¼Œ\næˆ‘å‘ç€ä¸€æ¡è·¯æç›®æœ›å»ï¼Œ\nç›´åˆ°å®ƒæ¶ˆå¤±åœ¨ä¸›æ—æ·±å¤„ã€‚\nä½†æˆ‘å´é€‰äº†å¦å¤–ä¸€æ¡è·¯ï¼Œ\nå®ƒè’è‰è‹è‹ï¼Œååˆ†å¹½å¯‚ï¼Œ\næ˜¾å¾—æ›´è¯±äººã€æ›´ç¾ä¸½ï¼Œ\nè™½ç„¶åœ¨è¿™ä¸¤æ¡å°è·¯ä¸Šï¼Œ\néƒ½å¾ˆå°‘ç•™ä¸‹æ—…äººçš„è¶³è¿¹ï¼Œ\nè™½ç„¶é‚£å¤©æ¸…æ™¨è½å¶æ»¡åœ°ï¼Œ\nä¸¤æ¡è·¯éƒ½æœªç»è„šå°æ±¡æŸ“ã€‚\nå•Šï¼Œç•™ä¸‹ä¸€æ¡è·¯ç­‰æ”¹æ—¥å†è§ï¼\nä½†æˆ‘çŸ¥é“è·¯å¾„å»¶ç»µæ— å°½å¤´ï¼Œ\nææ€•æˆ‘éš¾ä»¥å†å›è¿”ã€‚\nä¹Ÿè®¸å¤šå°‘å¹´ååœ¨æŸä¸ªåœ°æ–¹ï¼Œ\næˆ‘å°†è½»å£°å¹æ¯æŠŠå¾€äº‹å›é¡¾ï¼Œ\nä¸€ç‰‡æ ‘æ—é‡Œåˆ†å‡ºä¸¤æ¡è·¯ï¼Œ\nè€Œæˆ‘é€‰äº†äººè¿¹æ›´å°‘çš„ä¸€æ¡ï¼Œ\nä»æ­¤å†³å®šäº†æˆ‘ä¸€ç”Ÿçš„é“è·¯ã€‚&quot;];

    // ç»™å†…å®¹å®¹å™¨æ·»åŠ å¸ƒå±€(å¯ä»¥æ·»åŠ å¤šä¸ª)
    NSLayoutManager *layoutManager = [NSLayoutManager new];
    [storage addLayoutManager:layoutManager];

    // å¸¦æœ‰å†…å®¹å’Œå¸ƒå±€çš„å®¹å™¨
    NSTextContainer *textContainer = [NSTextContainer new];
    [layoutManager addTextContainer:textContainer];

    // ç»™TextViewæ·»åŠ å¸¦æœ‰å†…å®¹å’Œå¸ƒå±€çš„å®¹å™¨
    UITextView *textView = [[UITextView alloc] initWithFrame:CGRectMake(10, 20, 300, 400)
                                               textContainer:textContainer];
    textView.layer.borderWidth = 1;
    textView.scrollEnabled = NO;
    textView.editable      = NO;
    [self.view addSubview:textView];
</code></pre>
<p>åˆ¶ä½œå¯Œæ–‡æœ¬ï¼Œä½ å¯èƒ½ä¼šæœ‰ä¸€äº›å®šåˆ¶çš„éœ€æ±‚ï¼Œæ¯”å¦‚å›¾ç‰‡çš„é«˜åº¦ä¸æƒ³æ¯ä¸ªéƒ½è¦è®¾ç½®ä¸€è¾¹ï¼Œä½ å¯ä»¥å†™ä¸€ä¸ªç»§æ‰¿ï¼Œç„¶åå°†ä¸‹é¢æ–¹æ³•é‡å†™</p>
<pre><code class="language-objectivec">
-(CGRect)attachmentBoundsForTextContainer:(NSTextContainer *)textContainer proposedLineFragment:(CGRect)lineFrag glyphPosition:(CGPoint)position characterIndex:(NSUInteger)charIndex
{
  return CGRectMake( 0 , 0 , lineFrag.size.height , lineFrag.size.height);
}
</code></pre>
<p>æ›¿æ¢æ–‡æœ¬å†…å®¹é‡Œé¢çš„å­—ç¬¦ä¸ºå›¾ç‰‡</p>
<pre><code class="language-objectivec">
    //æ·»åŠ å¯Œæ–‡æœ¬å¯¹è±¡
    NSMutableAttributedString * attachmentString = [[NSMutableAttributedString alloc]initWithString:str];
    //è®¾ç½®å›¾ç‰‡
    NSTextAttachment * attachment = [[NSTextAttachment alloc]init];
    //è®¾ç½®å›¾ç‰‡å±æ€§
    attachment.image = [UIImage imageNamed:@&quot;selected&quot;];
    //è®¾ç½®å›¾ç‰‡çš„bounds
    attachment.bounds = CGRectMake(0, 0, self.view.bounds.size.width, 180);

    NSAttributedString * text = [NSAttributedString attributedStringWithAttachment:attachment];

    NSRange range = [[attachmentString string] rangeOfString:@&quot;icon&quot;];

    [attachmentString replaceCharactersInRange:range withAttributedString:text];

    self.label.attributedText = attachmentString;

1.ä¸ºæŸä¸€èŒƒå›´å†…æ–‡å­—è®¾ç½®å¤šä¸ªå±æ€§
- (void)setAttributes:(NSDictionary *)attrs range:(NSRange)range;
ä¸ºæŸä¸€èŒƒå›´å†…æ–‡å­—æ·»åŠ æŸä¸ªå±æ€§
- (void)addAttribute:(NSString *)name value:(id)value range:(NSRange)range;

ä¸ºæŸä¸€èŒƒå›´å†…æ–‡å­—æ·»åŠ å¤šä¸ªå±æ€§
- (void)addAttributes:(NSDictionary *)attrs range:(NSRange)range;
ç§»é™¤æŸèŒƒå›´å†…çš„æŸä¸ªå±æ€§
- (void)removeAttribute:(NSString *)name range:(NSRange)range;
</code></pre>
<pre><code class="language-objectivec">label.lineBreakMode = NSLineBreakByCharWrapping;ä»¥å­—ç¬¦ä¸ºæ˜¾ç¤ºå•ä½æ˜¾ç¤ºï¼Œåé¢éƒ¨åˆ†çœç•¥ä¸æ˜¾ç¤ºã€‚
label.lineBreakMode = NSLineBreakByClipping;å‰ªåˆ‡ä¸æ–‡æœ¬å®½åº¦ç›¸åŒçš„å†…å®¹é•¿åº¦ï¼ŒååŠéƒ¨åˆ†è¢«åˆ é™¤ã€‚
label.lineBreakMode = NSLineBreakByTruncatingHead;å‰é¢éƒ¨åˆ†æ–‡å­—ä»¥â€¦â€¦æ–¹å¼çœç•¥ï¼Œæ˜¾ç¤ºå°¾éƒ¨æ–‡å­—å†…å®¹ã€‚
label.lineBreakMode = NSLineBreakByTruncatingMiddle;ä¸­é—´çš„å†…å®¹ä»¥â€¦â€¦æ–¹å¼çœç•¥ï¼Œæ˜¾ç¤ºå¤´å°¾çš„æ–‡å­—å†…å®¹ã€‚
label.lineBreakMode = NSLineBreakByTruncatingTail;ç»“å°¾éƒ¨åˆ†çš„å†…å®¹ä»¥â€¦â€¦æ–¹å¼çœç•¥ï¼Œæ˜¾ç¤ºå¤´çš„æ–‡å­—å†…å®¹ã€‚
label.lineBreakMode = NSLineBreakByWordWrapping;ä»¥å•è¯ä¸ºæ˜¾ç¤ºå•ä½æ˜¾ç¤ºï¼Œåé¢éƒ¨åˆ†çœç•¥ä¸æ˜¾ç¤ºã€‚
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[iOS tableHeaderViewçš„é‚£äº›å‘]]></title>
        <id>https://dargonlee.github.io/post/ios-tableheaderview-de-na-xie-keng/</id>
        <link href="https://dargonlee.github.io/post/ios-tableheaderview-de-na-xie-keng/">
        </link>
        <updated>2018-09-10T05:43:41.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="ios-tableheaderviewçš„é‚£äº›å‘">iOS tableHeaderViewçš„é‚£äº›å‘</h1>
<h3 id="å‰è¨€">å‰è¨€:</h3>
<blockquote>
<p>tableView æœ‰ä¸ªå±æ€§å«tableHeaderView ç”¨å®ƒæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šäº‹æƒ…<br>
åœ¨tableViewçš„å¤´éƒ¨åŠ ä¸Šè‡ªå®šä¹‰çš„view éšç€tableViewä¸€èµ·æ»šåŠ¨</p>
</blockquote>
<p><code>å¸¸ç”¨çš„å°±æ˜¯è½®æ’­å›¾æ¯”å¦‚è¿™æ ·</code></p>
<figure data-type="image" tabindex="1"><img src="http://upload-images.jianshu.io/upload_images/646265-c073e8a0513156ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="DAD90DE4-84E9-4194-9554-40956AD01E32.png" loading="lazy"></figure>
<p>tableView çš„tableHeaderView æœ‰ä¸¤ç§åˆ›å»ºæ–¹å¼ä¸€ä¸­æ˜¯ä»£ç åˆ›å»ºå¦å¤–ä¸€ç§æ˜¯ç”¨xibåˆ›å»º</p>
]]></summary>
        <content type="html"><![CDATA[<h1 id="ios-tableheaderviewçš„é‚£äº›å‘">iOS tableHeaderViewçš„é‚£äº›å‘</h1>
<h3 id="å‰è¨€">å‰è¨€:</h3>
<blockquote>
<p>tableView æœ‰ä¸ªå±æ€§å«tableHeaderView ç”¨å®ƒæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šäº‹æƒ…<br>
åœ¨tableViewçš„å¤´éƒ¨åŠ ä¸Šè‡ªå®šä¹‰çš„view éšç€tableViewä¸€èµ·æ»šåŠ¨</p>
</blockquote>
<p><code>å¸¸ç”¨çš„å°±æ˜¯è½®æ’­å›¾æ¯”å¦‚è¿™æ ·</code></p>
<figure data-type="image" tabindex="1"><img src="http://upload-images.jianshu.io/upload_images/646265-c073e8a0513156ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="DAD90DE4-84E9-4194-9554-40956AD01E32.png" loading="lazy"></figure>
<p>tableView çš„tableHeaderView æœ‰ä¸¤ç§åˆ›å»ºæ–¹å¼ä¸€ä¸­æ˜¯ä»£ç åˆ›å»ºå¦å¤–ä¸€ç§æ˜¯ç”¨xibåˆ›å»º</p>
<!--more-->
<p>###ç”¨ä»£ç åˆ›å»º</p>
<pre><code class="language-objectivec">  UIView *header = [[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.width, 200)];
    // è®¾ç½®header
  self.tableView.tableHeaderView = header;
</code></pre>
<ul>
<li>å› ä¸º self.tableView.tableHeaderViewçš„é«˜åº¦æ˜¯æ²¡æœ‰åŠæ³•è®¾ç½®çš„,æ‰€ä»¥å¿…é¡»è®¾ç½®è‡ªå®šä¹‰Viewçš„é«˜åº¦ æ¥è¾¾åˆ°è®¾ç½® self.tableView.tableHeaderViewçš„é«˜åº¦</li>
</ul>
<p>###ç”¨xibåˆ›å»º</p>
<pre><code class="language-objectivec">BBSTableHeaderView * cell = [BBSTableHeaderView tableHeaderView];
cell = 291;
self.tableView.tableHeaderView = header;
</code></pre>
<ul>
<li>æŒ‰ç†æ¥è¯´è¿™æ ·è®¾ç½®è‚¯å®šæ˜¯æ²¡æœ‰é—®é¢˜çš„ ä½†æ˜¯è¿™æ—¶å€™ä½ è®¾ç½®çš„é«˜åº¦æ˜¯ä¸å‡†ç¡®çš„ è€Œä¸”æ˜¯æ²¡æœ‰åŠæ³•é€‚é…æœºå‹çš„</li>
<li>æ‰€ä»¥è¿™æ ·çš„è®¾ç½®å‘æ”¾ä¸å¯è¡Œ</li>
<li>ç„¶åè¿™é‡Œæœ‰ä¸ªå°tips  å¾ˆç®€å•  ä½†æ˜¯å¦‚æœä½ æƒ³ä¸åˆ°çš„è¯ ä½ å¯èƒ½åœ¨è¿™ä¸ªé«˜åº¦é—®é¢˜ä¸Šè°ƒè¯•ä¸€æ•´å¤© æ¯”å¦‚è¯´æˆ‘</li>
</ul>
<h4 id="-è§£å†³æ–¹æ¡ˆ">- è§£å†³æ–¹æ¡ˆ</h4>
<pre><code class="language-objectivec">    UIView * header = [[UIView alloc]init];
    header.backgroundColor = [UIColor whiteColor];
    BBSTableHeaderView * cell = [BBSTableHeaderView tableHeaderView];
    cell.backgroundColor = [UIColor clearColor];
    [header addSubview:cell];
    header.height = 291;//æ³¨æ„è¿™é‡Œä¸è¦è¿›è¡Œæ¯”ä¾‹ç¼©æ”¾
    self.tableView.tableHeaderView = header;
</code></pre>
<ul>
<li>åŸç† å°±æ˜¯åœ¨xib Viewä¸‹é¢åœ¨åŠ ä¸€å±‚View (ä»£ç åˆ›å»ºçš„) è¿™æ ·æ‰èƒ½ä¿è¯ä½ è®¾ç½®çš„é«˜åº¦æ˜¯å‡†ç¡®çš„ å› ä¸ºXibé«˜åº¦ å‡†ç¡® å¿…é¡»å†åŠ ä¸€å±‚ä»£ç åˆ›å»ºçš„viewæ‰èƒ½ä¿è¯ä½ çš„Viewçš„é«˜åº¦æ˜¯å‡†ç¡®çš„ è€Œä¸”æ˜¯é€‚é…å„ç§æœºå‹çš„</li>
</ul>
<p>###å…¶ä»–</p>
<ul>
<li>tableView çš„é¡¶éƒ¨ä¼šç”±äºè®¾ç½®tableHeaderViewè€Œå˜å¾— æœ‰ä¸€ç‰‡ç©ºç™½</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹:</p>
<pre><code class="language-objectivec">//åœ¨æ§åˆ¶å™¨é‡Œé¢viewDidLoad å†™ä¸‹è¿™å¥ä»£ç åº”è¯¥å°±å¯ä»¥äº†

self.automaticallyAdjustsScrollViewInsets = NO;

/*
* åæ ‡ï¼šä»¥å±å¹•å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼ˆiOS7ä»¥å‰åœ¨çŠ¶æ€æ æˆ–è€…å¯¼èˆªæ¡ä¸‹ï¼‰
2.UIScrollViewï¼ˆåŒ…æ‹¬å…¶å­ç±»ï¼Œæ¯”å¦‚UITableViewï¼‰:ä¼šè‡ªåŠ¨åœ¨é¡¶éƒ¨å’Œåº•éƒ¨é¢„ç•™ä¸€äº›ç©ºç™½ï¼ˆå› ä¸ºæ»šåŠ¨ç»è¿‡åŠé€æ˜å¯¼èˆªæ¡æˆ–è€…tabbarä¸‹é¢ï¼Œéœ€è¦èƒ½éšçº¦çœ‹åˆ°çš„æ•ˆæœï¼‰ï¼Œæ˜¯å¦é¢„ç•™ç©ºç™½å¯ä»¥ç”±UIViewControllerçš„
automaticallyAdjustsScrollViewInsetsçš„è¿™ä¸ªå±æ€§æ§åˆ¶ï¼ˆé»˜è®¤YES,è¡¨ç¤ºé¢„ç•™ç©ºç™½ï¼‰ã€‚
ä¸Šé¢è¿™äº›åªè¦ä½ ç”¨iOSå¼€å‘ï¼Œå°±èƒ½å‘ç°ã€‚

ä¸€ä¸ªæ§åˆ¶å™¨ä¸­ï¼Œå‡ºç°UIScrollViewï¼ˆåŒ…æ‹¬å…¶å­ç±»ï¼‰ï¼Œå¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªæ·»åŠ åˆ°æ§åˆ¶å™¨çš„è§†å›¾ä¸Šæ‰ä¼šé¢„ç•™ç©ºç™½ï¼Œè¿™é‡Œçš„ç¬¬ä¸€ä¸ªæ˜¯ç›¸å¯¹äºæ‰€æœ‰çš„å­è§†å›¾ï¼Œä¸ä»…ä»…æ˜¯å…¶ä»–UIScrollViewï¼ˆåŒ…æ‹¬å…¶å­ç±»ï¼‰ã€‚

é‚£ä¹ˆæˆ‘é‡åˆ°çš„é—®é¢˜å¦‚ä½•è§£å†³å‘¢ï¼Œè¿˜æ˜¯è¿™ä¸ªå±æ€§automaticallyAdjustsScrollViewInsetsï¼Œä»”ç»†çœ‹å®ƒçš„æ–‡æ¡£è¯´æ˜ï¼Œå®ƒè¯´äº†ï¼Œå¦‚æœä¸€ä¸ªæ§åˆ¶å™¨ä¸­å‡ºç°ä¸¤ä¸ªä»¥ä¸Šçš„UIScrollViewï¼ˆåŒ…æ‹¬å…¶å­ç±»ï¼‰ï¼Œè¿™ä¸ªå±æ€§éœ€è¦è®¾ç½®ä¸ºNO.å³ä¸ä¼šé¢„ç•™ç©ºç™½ï¼Œé‚£ä¹ˆè¿™ä¸ªæ§åˆ¶å™¨ä¸­æ‰€æœ‰çš„UIScrollViewï¼ˆåŒ…æ‹¬å…¶å­ç±»ï¼‰éƒ½éœ€è¦é‡æ–°è®¾ç½®åæ ‡
*/
</code></pre>
<ul>
<li>
<p>æœ‰çš„æ—¶å€™ä¸Šé¢è¿™ç§æ–¹æ³•è®¾ç½®æ˜¯æ²¡æœ‰ç”¨çš„ æ‰€ä»¥å¦‚æœä¸Šé¢è¿™ç§æ–¹æ³•æ²¡æœ‰ç”¨å¾ˆæœ‰å¯èƒ½æ˜¯åˆ›å»ºtableViewçš„æ—¶å€™ç”¨çš„åˆ†ç»„æ ·å¼,</p>
<p>è§£å†³æ–¹æ³•å¦‚ä¸‹</p>
<p>æ³¨æ„:ä¸è¦å†™0 è¦å†™ä¸€ä¸ªæ¯”è¾ƒå°çš„æ•°å­— åˆ«é—®ä¸ºä»€ä¹ˆ  å› ä¸ºè®¾ç½®0 æ²¡æœ‰æ•ˆæœ</p>
</li>
</ul>
<pre><code class="language-objectivec">- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section
{
    return 0.01;
}

- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section
{
    return 0.01;
}
</code></pre>
<ul>
<li>å¦‚æœä½ è¿˜æœ‰å…¶ä»–çš„éœ€æ±‚æ¯”å¦‚æ€ä¹ˆéšè— self.tableView.tableHeaderView æˆ–è€…æ¯”å¦‚æ€ä¹ˆæ”¹å˜self.tableView.tableHeaderViewçš„é«˜åº¦çœ‹ä¸‹é¢</li>
</ul>
<pre><code class="language-objectivec">//æ˜¾ç¤ºheaderView
[self.tableView.tableHeaderView setHidden:NO];

//éšè—headerView
 [self.tableView.tableHeaderView setHidden:YES];
</code></pre>
<pre><code class="language-objectivec">//è¿™æ ·è®¾ç½®æ˜¯æ²¡æœ‰ç”¨çš„ ä¸ä¿¡ä½ å¯ä»¥è¯•è¯• å§‹ç»ˆä¸º0
self.tableView.tableHeaderView.height = xxx;

//åº”è¯¥è¿™ä¹ˆè®¾ç½®
UIView *tableHeaderView = _tableView.tableHeaderView;
tableHeaderView.height = 0.01;
[_tableView setTableHeaderView:tableHeaderView];
//å¦‚æœä½ è¦è®¾ç½®
tableHeaderView.height = 0;//è¿™æ ·æ˜¯æ²¡æœ‰æ•ˆæœçš„ è€Œä¸”tableViewçš„é¡¶éƒ¨åˆä¼šå¤šå¤„ä¸€ç‰‡ç©ºç™½  ä¸€å®šè¦è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå°çš„å€¼ å½“ç„¶è¿™ä¸ªå€¼å¹¶ä¸æ˜¯0;
</code></pre>
<p>#å†™åœ¨æœ«å°¾<br>
ä»¥ä¸Šå†…å®¹æ˜¯è‡ªå·±åœ¨å¼€å‘ä¸­é‡åˆ°è¿‡å¾—é—®é¢˜ ä»¥åŠè‡ªå·±çš„è§£å†³æ–¹æ¡ˆ å†™åœ¨è¿™é‡Œ æ˜¯æƒ³è®©æ›´å¤šäººçŸ¥é“è¿™é‡Œçš„å‘  ä»¥å…åœ¨è¿™ä¸ªå°é—®é¢˜ä¸Šè€½è¯¯å¤§å®¶çš„æ—¶é—´.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[tableViewçš„å¤šé€‰å’Œå•é€‰]]></title>
        <id>https://dargonlee.github.io/post/tableview-de-duo-xuan-he-dan-xuan/</id>
        <link href="https://dargonlee.github.io/post/tableview-de-duo-xuan-he-dan-xuan/">
        </link>
        <updated>2018-07-31T05:47:26.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="ç³»ç»Ÿè‡ªå¸¦çš„å¤šé€‰">ç³»ç»Ÿè‡ªå¸¦çš„å¤šé€‰</h3>
<figure data-type="image" tabindex="1"><img src="http://upload-images.jianshu.io/upload_images/646265-0171d1fe767ed431.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20170605_1.png" loading="lazy"></figure>
]]></summary>
        <content type="html"><![CDATA[<h3 id="ç³»ç»Ÿè‡ªå¸¦çš„å¤šé€‰">ç³»ç»Ÿè‡ªå¸¦çš„å¤šé€‰</h3>
<figure data-type="image" tabindex="1"><img src="http://upload-images.jianshu.io/upload_images/646265-0171d1fe767ed431.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20170605_1.png" loading="lazy"></figure>
<!--more-->
<ul>
<li>
<p>é¦–å…ˆè®©tableViewå…è®¸å¤šé€‰æ“ä½œ</p>
<pre><code class="language-objectivec">// å…è®¸åœ¨ç¼–è¾‘æ¨¡å¼è¿›è¡Œå¤šé€‰æ“ä½œ
self.tableView.allowsMultipleSelectionDuringEditing = YES;
</code></pre>
</li>
<li>
<p>å½“ç‚¹å‡»ç¼–è¾‘çš„æ—¶å€™è®¾ç½®tableViewçš„ç¼–è¾‘æ¨¡å¼</p>
<pre><code class="language-objectivec">[self.tableView setEditing:YES animated:YES];
</code></pre>
</li>
<li>
<p>å¦‚æœä½ æƒ³è®©ä¸€ä¸ªæŒ‰é’®æ¥æ§åˆ¶tableViewçš„ç¼–è¾‘å’Œä¸ç¼–è¾‘çš„çŠ¶æ€å¯ä»¥è¿™ä¹ˆå†™</p>
<pre><code class="language-objectivec">[self.tableView setEditing:!self.tableView.isEditing animated:YES];
</code></pre>
</li>
<li>
<p>å®Œæˆä»¥ä¸Šå‡ æ­¥å°±å¯ä»¥é€‰æ‹©æƒ³è¦åˆ é™¤çš„celläº†</p>
</li>
<li>
<p>ä½†æ˜¯å¦‚æœä½ æƒ³åˆ é™¤é€‰ä¸­çš„æ•°æ®è¦å®ç°ä¸‹é¢çš„æ–¹æ³•</p>
</li>
</ul>
<pre><code class="language-objectivec">- (void)remove
{
    // è·å¾—æ‰€æœ‰è¢«é€‰ä¸­çš„è¡Œ
    NSArray *indexPaths = [self.tableView indexPathsForSelectedRows];


    // ä¾¿åˆ©æ‰€æœ‰çš„è¡Œå·
    NSMutableArray *deletedDeals = [NSMutableArray array];
    for (NSIndexPath *path in indexPaths) {
        [deletedDeals addObject:self.deals[path.row]];
    }

    // åˆ é™¤æ¨¡å‹æ•°æ®
    [self.deals removeObjectsInArray:deletedDeals];

   // åˆ·æ–°è¡¨æ ¼  ä¸€å®šè¦åˆ·æ–°æ•°æ®
    [self.tableView reloadData];
}
# è¯´æ˜:self.deals æ˜¯å­˜æ”¾æ¨¡å‹çš„æ•°ç»„
</code></pre>
<h3 id="è‡ªå®šä¹‰cellå¤šé€‰">è‡ªå®šä¹‰cellå¤šé€‰</h3>
<figure data-type="image" tabindex="2"><img src="http://upload-images.jianshu.io/upload_images/646265-a38436d429f4f56f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20170605_2.png" loading="lazy"></figure>
<ul>
<li>é¦–å…ˆå¼€å‘æ¨¡å¼æ˜¯MVCæ€æƒ³(å¦‚æœä¸æ˜¯MVCæ€æƒ³å¾€åçœ‹)
<ul>
<li>ç»™æ¨¡å‹å¢åŠ ä¸€ä¸ªå±æ€§</li>
<li>è¿™ä¸ªå±æ€§æ˜¯ç”¨æ¥æ˜¾ç¤ºæˆ–è€…éšè— æ‰“é’© çš„å›¾ç‰‡çš„</li>
</ul>
</li>
</ul>
<pre><code class="language-objectivec">/** çŠ¶æ€é‡æ ‡è¯†æœ‰æ— è¢«æ‰“é’© */
@property (assign, nonatomic, getter=isChecked) BOOL checked;
</code></pre>
<ul>
<li>ç„¶åå†ç»™cellèµ‹å€¼çš„æ—¶å€™åˆ¤æ–­cellå­æ§ä»¶æ‰“é’©å›¾ç‰‡çš„æ˜¾ç¤ºéšè—</li>
</ul>
<pre><code class="language-objectivec">// è®¾ç½®æ‰“é’©æ§ä»¶çš„æ˜¾ç¤ºå’Œéšè—
self.checkView.hidden = !deal.isChecked;
</code></pre>
<ul>
<li>æœ€åä¸€æ­¥å°±æ˜¯ ç»™æ¨¡å‹çš„checkedå±æ€§èµ‹å€¼
<ul>
<li>åœ¨tableViewçš„ç‚¹å‡»æ–¹æ³•ä¸­å®ç°ä¸‹é¢ä»£ç </li>
<li>(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath</li>
</ul>
</li>
</ul>
<pre><code class="language-objectivec">// å–æ¶ˆé€‰ä¸­è¿™ä¸€è¡Œ
[tableView deselectRowAtIndexPath:indexPath animated:YES];

// æ¨¡å‹çš„æ‰“é’©å±æ€§å–å
Deal *deal = self.deals[indexPath.row];
deal.checked = !deal.isChecked;

// åˆ·æ–°è¡¨æ ¼
[tableView reloadData];

# è¯´æ˜:Deal æ˜¯æ¨¡å‹æ•°æ®    self.dealsæ˜¯å­˜æ”¾æ¨¡å‹æ•°æ®çš„æ•°ç»„
</code></pre>
<h3 id="è‡ªå®šä¹‰cellå¤šé€‰ä¸æ˜¯mvcå¼€å‘æ¨¡å¼">è‡ªå®šä¹‰cellå¤šé€‰(ä¸æ˜¯MVCå¼€å‘æ¨¡å¼)</h3>
<ul>
<li>é¦–å…ˆå£°æ˜ä¸€ä¸ªå¯å˜æ•°ç»„ç”¨æ¥å­˜æ”¾ç‚¹å‡»cellçš„indexPath</li>
</ul>
<pre><code class="language-objectivec">@property (nonatomic, strong) NSMutableArray *indexPaths;

# å¹¶ä¸”è¿›è¡Œæ‡’åŠ è½½
- (NSMutableArray *)indexPaths
{
    if (!_indexPaths) {
        _indexPaths = [NSMutableArray array];
    }
    return _indexPaths;
}
</code></pre>
<ul>
<li>ç„¶åå†ç»™ä½ cellèµ‹å€¼çš„åœ°æ–¹å†™ä¸‹é¢ä»£ç </li>
</ul>
<pre><code class="language-objectivec">//mr_tb æœªé€‰ä¸­å›¾ç‰‡  xz_tbé€‰ä¸­å›¾ç‰‡
#é»˜è®¤æ˜¯æ²¡æœ‰ä»»ä½•é€‰ä¸­çš„cellçš„
cell.imageView.image = [UIImage imageNamed:@&quot;mr_tb&quot;];
//å¤šé€‰
for (NSIndexPath * index in self.indexPaths) 
{//éå†æ•°ç»„é‡Œé¢çš„ç´¢å¼• å’Œ å½“å‰ç´¢å¼•æ˜¯å¦ä¸€è‡´
     if (index == indexPath)
     {//æ”¹å˜åœ¨é€‰æ‹©çš„æ•°ç»„é‡Œé¢çš„è®°å½•
          cell.imageView.image = [UIImage imageNamed:@&quot;xz_tb&quot;];//é€‰ä¸­
          break;
     }
}
</code></pre>
<ul>
<li>åœ¨tableViewçš„ç‚¹å‡»ä»£ç†æ–¹æ³•ä¸­å®ç°ä¸‹é¢æ–¹æ³•</li>
</ul>
<pre><code class="language-objectivec">//å–å‡ºå½“å‰cell
UITableViewCell * cell = [tableView cellForRowAtIndexPath:indexPath];
UIImage * image = [UIImage imageNamed:@&quot;xz_tb&quot;];
if ([cell.imageView.image isEqual:image]) 
{//å¦‚æœä¸ºé€‰ä¸­ å˜æˆæœªé€‰ä¸­
     cell.imageView.image = [UIImage imageNamed:@&quot;mr_tb&quot;];
     [self.indexPaths removeObject:indexPath];
}else{//å¦‚æœä¸ºæœªé€‰ä¸­ å˜æˆé€‰ä¸­
      cell.imageView.image = [UIImage imageNamed:@&quot;xz_tb&quot;];
      [self.indexPaths addObject:indexPath];
}
</code></pre>
<ul>
<li>å¦‚æœä½ æƒ³æ§åˆ¶å¤šé€‰çš„ä¸ªæ•°çš„è¯ ä½ å¯ä»¥è¿™ä¹ˆå†™</li>
</ul>
<pre><code class="language-objectivec"> UITableViewCell * cell = [tableView cellForRowAtIndexPath:indexPath];
UIImage * image = [UIImage imageNamed:@&quot;xz_tb&quot;];
if ([cell.imageView.image isEqual:image])
 {//å¦‚æœä¸ºé€‰ä¸­
       cell.imageView.image = [UIImage imageNamed:@&quot;mr_tb&quot;];
       [self.indexPaths removeObject:indexPath];
}else{
       if (self.indexPaths.count &gt;= 2)
       {//å¦‚æœå½“å‰æ•°ç»„å­˜å‚¨çš„ç´¢å¼•è¶…è¿‡ä¸¤ä¸ªç›´æ¥è¿”å›
        [self showMessage:@&quot;æœ€å¤šåªèƒ½é€‰æ‹©ä¸¤ä¸ª&quot;];
         return;
        }else{
                cell.imageView.image = [UIImage imageNamed:@&quot;xz_tb&quot;];
                [self.indexPaths addObject:indexPath];
            }

        }
</code></pre>
<ul>
<li>æ•´ä½“çš„æ€æƒ³å°±æ˜¯å½“ä½ é€‰ä¸­æŸä¸€ä¸ªcellçš„æ—¶å€™å–å‡ºå½“å‰cellçš„å›¾ç‰‡ å’Œ é€‰ä¸­å›¾ç‰‡è¿›è¡Œå¯¹æ¯” å¦‚æœä¸€æ · å°±æŠŠå½“å‰cellçš„iamgeå˜æˆå¦å¤–ä¸€ä¸ªå›¾ç‰‡ (å½“å˜æˆæœªé€‰ä¸­çš„æ—¶å€™ è¦æŠŠåœ¨æ•°ç»„é‡Œé¢çš„indexPathç§»é™¤,å½“å˜æˆé€‰ä¸­çš„æ—¶å€™è®¾ç½®é€‰ä¸­çš„å›¾ç‰‡ å¹¶ä¸”æŠŠå½“å‰é€‰ä¸­çš„indexPathä¿å­˜åœ¨æ•°ç»„ä¸­)</li>
</ul>
<h3 id="è‡ªå®šä¹‰cellå•é€‰">è‡ªå®šä¹‰cellå•é€‰</h3>
<ul>
<li>åœ¨tableViewçš„ç‚¹å‡»dialingæ–¹æ³•ä¸­å†™ä¸‹ä¸‹é¢ä»£ç </li>
</ul>
<pre><code class="language-objectivec">for (int i = 0; i &lt; self.deals.count; i++) {
        Deal *deal = self.deals[i];
        if (i != indexPath.row) {
            deal.checked = YES;
        }else{
            deal.checked = NO;
        }
    }
# Deal æ˜¯æ•°æ®æ¨¡å‹   self.deals æ˜¯å­˜æ”¾æ•°æ®æ¨¡å‹çš„æ•°ç»„
</code></pre>
]]></content>
    </entry>
</feed>