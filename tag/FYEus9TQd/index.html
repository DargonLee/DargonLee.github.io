<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>七里田间的守望者</title>
<link rel="shortcut icon" href="https://dargonlee.github.io/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"> -->
<link rel="stylesheet" href="https://dargonlee.github.io/media/css/tailwind.css">
<link rel="stylesheet" href="https://dargonlee.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="七里田间的守望者 - Atom Feed" href="https://dargonlee.github.io/atom.xml">

    

  <meta name="description" content="我不在乎是悲伤的离别还是不痛快的离别，只要是离开一个地方，我总希望离开的时候自己心中有数。" />
</head>
<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">

    <div class="nav py-3 md:py-8 fixed w-full z-10 bg-gray-50 dark:bg-gray-700 transition-all duration-300" :class="{ 'scroll': scrolled }">
  <div class="flex justify-end px-4">
    <div class="w-8 h-8 flex justify-center items-center rounded-full md:hidden" @click="showMenu = !showMenu">
      <i class="ri-close-line" v-show="showMenu"></i>
      <i class="ri-menu-3-line" v-show="!showMenu"></i>
    </div>
  </div>
  <nav class="max-w-4xl w-full mx-auto text-center flex flex-col md:flex-row justify-center md:block" :class="`${ showMenu ? 'block' : 'hidden' }`">
    
      <a href="/" target="" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
        首页
      </a>
    
      <a href="/archives" target="" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
        归档
      </a>
    
      <a href="/tags" target="" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
        标签
      </a>
    
      <a href="/post/about" target="" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
        关于
      </a>
    
    <a href="https://dargonlee.github.io/atom.xml" target="_blank" class="py-2 md:py-1 px-4 mx-4 inline-flex transition font-semibold rounded dark:hover:bg-gray-600 hover:bg-gray-200">
      RSS
    </a>
  </nav>
</div>

    <div class="max-w-4xl w-full mx-auto pt-32">
      <h1 class="text-2xl font-bold pb-8 flex justify-center items-center">
        <i class="ri-hashtag"></i>
        iOS逆向
      </h1>
      <div class="shadow-box bg-white dark:bg-gray-600 border-gray-300 rounded-none md:rounded-lg -mx-1 md:mx-0 md:px-0">
        
  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/ssh-lian-jie-shou-ji-de-fang-shi/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          ssh连接手机的方式
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <h4 id="通过usb连接iphone">通过USB连接iPhone</h4>
<ul>
<li>用<code>iproxy</code> 转发端口</li>
</ul>
<pre><code class="language-shell">iproxy 2222 22 进行端口转发
</code></pre>
<p>想要支持多个ssh连接的话 需要添加参数 -t<br>
如果加<code>-t</code> 不行的 请使用<code>usbmuxd</code>的1.0.8版本</p>
<p>如果是1.0.8版本的需要执行下面的命令进行端口转发</p>
<pre><code class="language-shell">python tcprelay.py -t 22:2222
</code></pre>
<p>这里的<code>-t</code>就是支持多个ssh连接的参数</p>
<p>然后连接好USB进行登录手机</p>
<pre><code class="language-shell">ssh -p 2222 root@127.0.0.1
或者
ssh -p 2222 root@localhost
</code></pre>

      </div>
      <a href="https://dargonlee.github.io/post/ssh-lian-jie-shou-ji-de-fang-shi/" class="btn">
        Read more
      </a>
    </div>
    
  </div>

  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/cycript-yu-fa-de-shi-yong/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          Cycript语法的使用
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <blockquote>
<p>可以用来探索、修改、调试正在运行的Mac/iOS 的APP。</p>
</blockquote>
<ul>
<li>在手机上安装 Cycript 插件</li>
<li>使用的使用需要先用Mac终端连接手机</li>
<li>终端输入 <code>cycript</code> 就进入了调试环境了</li>
<li>cycript -p [进程ID] 或者[com.SpringBoard]或者[可执行文件的名称]</li>
<li>可以用<code>ps</code>指令获取某个应用程序的进程id</li>
<li>退出 control + d</li>
</ul>

      </div>
      <a href="https://dargonlee.github.io/post/cycript-yu-fa-de-shi-yong/" class="btn">
        Read more
      </a>
    </div>
    
  </div>

  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/ios-tuo-ke/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          iOS脱壳
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <h4 id="加壳">加壳</h4>
<blockquote>
<p>利用特殊的算法，对可执行文件的编码方式进行改变（比如压缩、加密），以达到保护程序代码的作用</p>
</blockquote>
<ul>
<li>
<p>加壳前：<br>
就是简单的可执行文件，执行之后把可执行文件装载在内存中</p>
</li>
<li>
<p>加壳后：<br>
可执行文件已经被加密了，不能直接用了。需要先加载到内存中，需要解密之后才能用。</p>
</li>
</ul>
<h4 id="脱壳">脱壳</h4>
<blockquote>
<p>摘掉壳程序，将未加密可执行文件还原出来</p>
</blockquote>
<ul>
<li>硬脱壳（iOS常用）</li>
</ul>
<blockquote>
<p>直接进行一个解密操作，不需要运行APP</p>
</blockquote>
<ul>
<li>动态脱壳</li>
</ul>
<blockquote>
<p>执行要脱壳的APP，将已经解密后的程序，从内存中直接拷贝出来。</p>
</blockquote>

      </div>
      <a href="https://dargonlee.github.io/post/ios-tuo-ke/" class="btn">
        Read more
      </a>
    </div>
    
  </div>

  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/ni-xiang-chang-yong-gong-ju/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          逆向常用工具
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <h4 id="逆向app思路">逆向APP思路</h4>
<ul>
<li>
<p>界面分析（Cycript、Reveal）</p>
</li>
<li>
<p>代码分析（对Mach-o文件分析）<br>
MachOView、class-dump、Hopper Disassembler、ida等</p>
</li>
<li>
<p>动态调试<br>
对运行的App进行代码调试（debugserver、LLDB）</p>
</li>
<li>
<p>代码编写<br>
注入代码到App中，必要时可能会重签名ipa</p>
</li>
</ul>

      </div>
      <a href="https://dargonlee.github.io/post/ni-xiang-chang-yong-gong-ju/" class="btn">
        Read more
      </a>
    </div>
    
  </div>

  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/tweak-kai-fa-shou-ce/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          Tweak开发手册
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <h4 id="tweak怎么多文件开发">tweak怎么多文件开发</h4>
<blockquote>
<p>一般来说我们开发tweak代码都是在<code>Tweak.xm</code>文件里面写代码，但是代码量小的话还好，一旦代码多了的话，代码开发起来就比较费劲。这个时候我们就可以使用多文件进行开发。</p>
</blockquote>
<ul>
<li>可以在<code>Tweak.xm</code>所在的目录下新建一个<code>src</code>文件夹，里面放你写的OC源代码。</li>
<li>然后在<code>Tweak.xm</code>文件是使用的地方<code>#import &quot;Person&quot;</code>导入就可以用了</li>
<li>但是在编译的时候你会发现报错，因为你写的<code>.m</code>文件没有参与编译</li>
<li>所以我们需要在<code>Makefile</code>里面的tweak_wechat_FILES = Tweak.xm指定下要参与编译的<code>.m</code>文件</li>
</ul>
<pre><code>tweak_wechat_FILES = Tweak.xm src/Persom.m // 记住多个文件以空格分割
</code></pre>

      </div>
      <a href="https://dargonlee.github.io/post/tweak-kai-fa-shou-ce/" class="btn">
        Read more
      </a>
    </div>
    
  </div>

  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/ios-dong-tai-diao-shi/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          iOS 动态调试
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <h4 id="什么是动态调试">什么是动态调试？</h4>
<blockquote>
<p>将程序运行起来，通过下断电、打印等方式。查看参数、返回值、函数调用流程等。</p>
</blockquote>
<h4 id="xcode的动态调试原理">Xcode的动态调试原理</h4>
<ul>
<li>
<p>关于 <code>GCC</code> <code>LLVM</code> <code>GDB</code> <code>LLDB</code></p>
<ul>
<li>Xcode 的编译器发展历程：GCC -&gt; LLVM</li>
<li>Xcode 的调试器发展历程：GDB -&gt; LLDB</li>
</ul>
</li>
<li>
<p>debugserver一开始存放在Mac上的Xcode里面</p>
</li>
<li>
<p>当Xcode识别手机设备的时候，Xcode会自动将debugserver安装到手机上</p>
</li>
<li>
<p>Xcode的调试局限性：一般只能安装通过Xcode安装的APP</p>
</li>
</ul>

      </div>
      <a href="https://dargonlee.github.io/post/ios-dong-tai-diao-shi/" class="btn">
        Read more
      </a>
    </div>
    
  </div>

  <div class="p-8 border-b border-gray-200 dark:border-gray-700 flex relative overflow-hidden flex-col md:flex-row animated fadeIn">
    
    <div class="flex-1 order-2 md:order-1">
      <h2 class="text-2xl font-semibold mb-4">
        <a href="https://dargonlee.github.io/post/chang-yong-lldb-zhi-ling/" class="text-gray-700 dark:text-gray-200 border-b-2 border-dotted border-gray-200 dark:border-gray-400 dark:hover:border-gray-200 hover:border-gray-600 transition-all duration-100">
          常用LLDB指令
        </a>
      </h2>
      <div class="mb-4 text-xs text-gray-500">2020-07-25</div>
      <div class="mb-4 text-gray-500 dark:text-gray-300">
        <h5 id="指令格式">指令格式</h5>
<pre><code>&lt;command&gt; [&lt;subcommand&gt; [&lt;subcommand&gt;]...] &lt;actions&gt; [-options [options value]] [argument[argument]...]
</code></pre>
<ul>
<li><command> 命令</li>
<li><subcommand>子命令</li>
<li><actions>命令操作</li>
<li><options>命令选项</li>
<li><argument> 命令参数</li>
</ul>
<p>比如给<code>test</code>函数设置断点</p>

      </div>
      <a href="https://dargonlee.github.io/post/chang-yong-lldb-zhi-ling/" class="btn">
        Read more
      </a>
    </div>
    
  </div>
  
      </div>

      
      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Harlans</a>
</footer>

    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://dargonlee.github.io/media/scripts/main.js"></script>
</body>
</html>